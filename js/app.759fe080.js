(function(){"use strict";var e={9025:function(e,t,a){var n=a(9242),r=a(3396);const s={id:"app"};function i(e,t,a,n,i,o){const l=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r.Wm)(l)])}a(7658);var o={name:"App",components:{},data(){return{sessionInterval:null}},async mounted(){},computed:{currentUser(){return this.$store.state.auth.user},showAdminBoard(){return!(!this.currentUser||!this.currentUser["roles"])&&this.currentUser["roles"].includes("ROLE_ADMIN")},showModeratorBoard(){return!(!this.currentUser||!this.currentUser["roles"])&&this.currentUser["roles"].includes("ROLE_MODERATOR")}},methods:{logOut(){this.$store.dispatch("auth/logout"),this.$router.push("/login")}},setup(){}},l=a(89);const c=(0,l.Z)(o,[["render",i],["__scopeId","data-v-477061b4"]]);var d=c,p=a(2483),m=a(7139),u=a.p+"img/bg2.accfdd88.webp";const g={class:"d-flex"},h=(0,r._)("div",{class:"container"},[(0,r._)("div",{class:"content"},[(0,r._)("img",{src:u,alt:"Vue logo"})])],-1),b={class:"login-form"},f=(0,r._)("h2",null,"Login",-1),v={class:"form-group"},y=(0,r._)("label",{for:"email"},"Email",-1),_={class:"form-group"},w=(0,r._)("label",{for:"password"},"Password",-1),k={class:"form-group"},x=["disabled"],C={class:"spinner-border spinner-border-sm"},D=(0,r._)("span",null,"Login",-1),P={class:"form-group"},S={key:0,class:"alert alert-danger",role:"alert"},L=(0,r._)("p",{class:"d-flex mt=1 justify-content-between",style:{"margin-top":"2rem"}},[(0,r.Uk)("Don't have an account? "),(0,r._)("a",{href:"/signup"},"Sign Up")],-1);function j(e,t,a,s,i,o){const l=(0,r.up)("Field"),c=(0,r.up)("ErrorMessage"),d=(0,r.up)("Form");return(0,r.wg)(),(0,r.iD)("div",g,[h,(0,r._)("div",b,[f,(0,r.Wm)(d,{onSubmit:o.handleLogin,"validation-schema":i.schema},{default:(0,r.w5)((()=>[(0,r._)("div",v,[y,(0,r.Wm)(l,{name:"email",type:"text",class:"form-control"}),(0,r.Wm)(c,{name:"email",class:"error-feedback"})]),(0,r._)("div",_,[w,(0,r.Wm)(l,{name:"password",type:"password",class:"form-control"}),(0,r.Wm)(c,{name:"password",class:"error-feedback"})]),(0,r._)("div",k,[(0,r._)("button",{class:"btn btn-primary btn-block",disabled:i.loading},[(0,r.wy)((0,r._)("span",C,null,512),[[n.F8,i.loading]]),D],8,x)]),(0,r._)("div",P,[i.message?((0,r.wg)(),(0,r.iD)("div",S,(0,m.zw)(i.message),1)):(0,r.kq)("",!0)])])),_:1},8,["onSubmit","validation-schema"]),L])])}var T=a(5708),W=a(7629),M={name:"LoginPage",components:{Form:T.l0,Field:T.gN,ErrorMessage:T.Bc},data(){const e=W.Ry().shape({email:W.Z_().required("Email is required!"),password:W.Z_().required("Password is required!")});return{loading:!1,message:"",schema:e,email:"",password:""}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},created(){this.loggedIn&&this.$router.push("/dashboard")},methods:{handleLogin(e){this.loading=!0,this.$store.dispatch("auth/login",e).then((()=>{this.$router.push("/dashboard")}),(e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))}}};const I=(0,l.Z)(M,[["render",j]]);var N=I;const V=e=>((0,r.dD)("data-v-b3ff5734"),e=e(),(0,r.Cn)(),e),F={class:"dashboard"},U={class:"content"},z=V((()=>(0,r._)("div",{class:"mt-4",style:{"background-color":"#f8fafb",height:"80px !important",width:"100%","margin-left":"2rem !important","border-radius":"1rem"}},[(0,r._)("label",{style:{margin:"1.5rem 0 0 2rem","font-size":"21px","font-weight":"500"}},"DASHBOARD")],-1))),B={class:"mt-4 col-12",style:{"background-color":"#f8fafb",height:"140px !important",width:"100%","margin-left":"2rem !important","border-radius":"1rem"}},A=V((()=>(0,r._)("label",{style:{margin:"1rem 0 0 2rem","font-weight":"500"}},"Filtres de la page",-1))),E={class:"d-flex",style:{margin:"0.5rem 0 0 1rem !important"}},O={class:"d-block col-2"},q=V((()=>(0,r._)("label",{style:{margin:"0.5rem 0 0 0",width:"70% !important"}},"Start date",-1))),Z={class:"d-block col-2"},R=V((()=>(0,r._)("label",{style:{margin:"0.5rem 0 0 0",width:"70% !important"}},"End date",-1))),H={class:"d-block col-1"},K=V((()=>(0,r._)("label",{style:{margin:"0.5rem 0 0 0",width:"70% !important"}},"Step",-1))),$={class:"d-block col-1"},J=V((()=>(0,r._)("label",{style:{margin:"0.5rem 0 0 0",width:"70% !important"}},"Step",-1))),Y=V((()=>(0,r._)("option",{value:"hour"},"Hour",-1))),G=V((()=>(0,r._)("option",{value:"day"},"Day",-1))),X=V((()=>(0,r._)("option",{value:"week"},"Week",-1))),Q=V((()=>(0,r._)("option",{value:"month"},"Month",-1))),ee=[Y,G,X,Q],te={class:"d-block mt-4 justify-content-between py-3 px-4",style:{"margin-left":"2rem !important","background-color":"#f8fafb","border-radius":"1rem"}},ae=V((()=>(0,r._)("label",{style:{margin:"0 0 0 2rem","font-weight":"500"}},"My graphs",-1))),ne={key:0},re={key:1,class:"d-flex",style:{"justify-content":"space-evenly !important"}},se={class:"d-flex",style:{"justify-content":"space-evenly !important","margin-top":"1rem"}},ie={key:0,class:"d-flex",style:{"justify-content":"space-evenly !important"}},oe={class:"d-block mt-4 justify-content-between py-3 px-4",style:{"margin-left":"2rem !important","background-color":"#f8fafb","border-radius":"1rem"}},le=V((()=>(0,r._)("label",{style:{margin:"0 0 0 2rem","font-weight":"500"}},"My KPIs",-1))),ce={key:0},de={key:1,class:"d-flex",style:{"justify-content":"space-evenly !important"}},pe={class:"d-flex",style:{"justify-content":"space-evenly !important","margin-top":"1rem"}},me={key:0,class:"d-flex",style:{"justify-content":"space-evenly !important"}},ue={class:"d-block mt-4 justify-content-between py-3 px-4",style:{"margin-left":"2rem !important","background-color":"#f8fafb","border-radius":"1rem"}},ge=V((()=>(0,r._)("label",{style:{margin:"0 0 0 2rem","font-weight":"500"}},"My heatmaps",-1))),he={key:0},be={key:1,class:"d-flex",style:{"justify-content":"space-evenly !important"}},fe={class:"d-flex",style:{"justify-content":"space-evenly !important","margin-top":"1rem"}},ve={key:0,class:"d-flex",style:{"justify-content":"space-evenly !important"}};function ye(e,t,a,s,i,o){const l=(0,r.up)("Sidebar"),c=(0,r.up)("LineChart"),d=(0,r.up)("KpiChart"),p=(0,r.up)("HeatMapChart");return(0,r.wg)(),(0,r.iD)("div",F,[(0,r.Wm)(l),(0,r._)("div",U,[z,(0,r._)("div",B,[A,(0,r._)("div",E,[(0,r._)("div",O,[q,(0,r.wy)((0,r._)("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=e=>i.startDate=e),class:"form-control",style:{width:"100% !important",height:"40px !important","border-radius":"0.5rem",border:"1px solid #d2d6dc"}},null,512),[[n.nr,i.startDate]])]),(0,r._)("div",Z,[R,(0,r.wy)((0,r._)("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=e=>i.endDate=e),class:"form-control",style:{width:"100% !important",height:"40px !important","border-radius":"0.5rem",border:"1px solid #d2d6dc"}},null,512),[[n.nr,i.endDate]])]),(0,r._)("div",H,[K,(0,r.wy)((0,r._)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>i.step=e),class:"form-control",style:{width:"100% !important",height:"40px !important","border-radius":"0.5rem",border:"1px solid #d2d6dc"},min:"1",max:"24"},null,512),[[n.nr,i.step]])]),(0,r._)("div",$,[J,(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.stepType=e),class:"form-select",style:{width:"100% !important",height:"40px !important","border-radius":"0.5rem",border:"1px solid #d2d6dc"}},ee,512),[[n.bM,i.stepType]])]),(0,r._)("div",null,[(0,r._)("button",{class:"btn btn-primary",style:{margin:"2rem 0 0 0",width:"100px !important"},onClick:t[4]||(t[4]=e=>o.getDashBoard())},"Apply")])])]),(0,r._)("div",te,[ae,0===i.graphs.length?((0,r.wg)(),(0,r.iD)("hr",ne)):(0,r.kq)("",!0),0===i.graphs.length?((0,r.wg)(),(0,r.iD)("div",re," No graph found ")):(0,r.kq)("",!0)]),(0,r._)("div",se,[i.graphs.length>0?((0,r.wg)(),(0,r.iD)("div",ie,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.graphs,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id},[(0,r.Wm)(c,{data:e.data,graphe:e.graphe,type:e.graphe.graphe_type},null,8,["data","graphe","type"])])))),128))])):(0,r.kq)("",!0)]),(0,r._)("div",oe,[le,0===i.kpis.length?((0,r.wg)(),(0,r.iD)("hr",ce)):(0,r.kq)("",!0),0===i.kpis.length?((0,r.wg)(),(0,r.iD)("div",de," No KPIs found ")):(0,r.kq)("",!0)]),(0,r._)("div",pe,[i.kpis.length>0?((0,r.wg)(),(0,r.iD)("div",me,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.kpis,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id},[(0,r.Wm)(d,{name:e.kpi.name,currentValue:e.data,kpiValue:e.kpi.value,start:e.kpi.start,end:e.kpi.end},null,8,["name","currentValue","kpiValue","start","end"])])))),128))])):(0,r.kq)("",!0)]),(0,r._)("div",ue,[ge,0===i.heatmaps.length?((0,r.wg)(),(0,r.iD)("hr",he)):(0,r.kq)("",!0),0===i.heatmaps.length?((0,r.wg)(),(0,r.iD)("div",be," No heatmap found ")):(0,r.kq)("",!0)]),(0,r._)("div",fe,[i.heatmaps.length>0?((0,r.wg)(),(0,r.iD)("div",ve,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.heatmaps,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.heatmap.id},[(0,r.Wm)(p,{id:e.heatmap.id,screenResolution:e.heatmap.resolution,data:e.data},null,8,["id","screenResolution","data"])])))),128))])):(0,r.kq)("",!0)])])])}const _e=e=>((0,r.dD)("data-v-53a6d589"),e=e(),(0,r.Cn)(),e),we={key:0,id:"myChartContainer"},ke={style:{color:"black","text-align":"center"}},xe=_e((()=>(0,r._)("hr",{style:{margin:"5px 0 !important"}},null,-1))),Ce={key:1,class:"custom-box"},De={class:"header"},Pe={class:"graph-name"},Se=_e((()=>(0,r._)("div",{class:"chip"},"All Time",-1))),Le=_e((()=>(0,r._)("hr",null,null,-1))),je={class:"data-value"},Te=_e((()=>(0,r._)("hr",null,null,-1)));function We(e,t,a,n,s,i){const o=(0,r.up)("Line");return"time_span"===a.type?((0,r.wg)(),(0,r.iD)("div",we,[(0,r._)("div",ke,[(0,r._)("label",null,(0,m.zw)(a.graphe.name),1)]),xe,(0,r.Wm)(o,{class:"line-chart",data:i.filteredData,options:s.options},null,8,["data","options"])])):((0,r.wg)(),(0,r.iD)("div",Ce,[(0,r._)("div",De,[(0,r._)("div",Pe,(0,m.zw)(a.graphe.name),1),Se]),Le,(0,r._)("div",je,(0,m.zw)(a.data),1),Te]))}var Me=a(9646),Ie=a(5866);Me.kL.register(Me.ST,Me.uw,Me.f$,Me.od,Me.jn,Me.u,Me.De);var Ne={name:"LineChart",components:{Line:Ie.x1},data(){return{options:{responsive:!0,maintainAspectRatio:!1}}},props:{data:{type:[Object,Number],default:()=>{},required:!0},type:{type:String,required:!0},graphe:{type:Object,default:()=>{},required:!0}},computed:{filteredData(){if("all_time"===this.type)return this.data;if("time_span"===this.type){let e=this.data.map((e=>{const t=new Date(e.tdate),a=t.toLocaleDateString();return a})),t=[{label:this.graphe.name,data:this.data.map((e=>e.count)),borderColor:"rgba(54, 162, 235, 1)",fill:!1}];return{labels:e,datasets:t}}return null}}};const Ve=(0,l.Z)(Ne,[["render",We],["__scopeId","data-v-53a6d589"]]);var Fe=Ve;const Ue={class:"kpi-container"},ze={class:"kpi-name"},Be={class:"kpi-gauge-container"},Ae=["width","height"],Ee=["cx","cy","r"],Oe=["cx","cy","r","stroke-dasharray","stroke-dashoffset","stroke"],qe={class:"kpi-values"},Ze=(0,r._)("br",null,null,-1),Re={class:"kpi-date"};function He(e,t,a,n,s,i){return(0,r.wg)(),(0,r.iD)("div",Ue,[(0,r._)("div",ze,(0,m.zw)(a.name),1),(0,r._)("div",Be,[((0,r.wg)(),(0,r.iD)("svg",{class:"kpi-gauge",width:i.gaugeSize,height:i.gaugeSize},[(0,r._)("circle",{class:"kpi-gauge-background",cx:i.gaugeCenter,cy:i.gaugeCenter,r:i.gaugeRadius},null,8,Ee),(0,r._)("circle",{class:"kpi-gauge-progress",cx:i.gaugeCenter,cy:i.gaugeCenter,r:i.gaugeRadius,"stroke-dasharray":i.circumference,"stroke-dashoffset":i.circumference-i.progressPercentage*i.circumference/100,stroke:i.barColor},null,8,Oe)],8,Ae)),(0,r._)("div",qe,[(0,r.Uk)((0,m.zw)(a.currentValue)+" ",1),Ze,(0,r.Uk)(" Target: "+(0,m.zw)(a.kpiValue),1)]),(0,r._)("div",Re,(0,m.zw)(i.formatStart)+" to "+(0,m.zw)(i.formatEnd),1)])])}var Ke={props:{name:{type:String,required:!0},kpiValue:{type:Number,required:!0},currentValue:{type:Number,required:!0},start:{type:String,default:""},end:{type:String,default:""}},computed:{formatStart(){return this.start.split("T")[0]},formatEnd(){return this.end.split("T")[0]},progressPercentage(){return this.currentValue/this.kpiValue*100},barColor(){return this.progressPercentage>=100?"green":this.progressPercentage>=50?"yellow":"red"},gaugeSize(){return 120},gaugeCenter(){return this.gaugeSize/2},gaugeRadius(){return this.gaugeSize/2-5},circumference(){return 2*Math.PI*this.gaugeRadius}}};const $e=(0,l.Z)(Ke,[["render",He]]);var Je=$e;const Ye=["id"];function Ge(e,t,a,n,s,i){return(0,r.wg)(),(0,r.iD)("div",{id:"heatmap-container-"+a.id,class:"heatmap-container",style:(0,m.j5)(i.containerStyle),ref:"heatmapContainer"},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.transformedData,((e,t)=>((0,r.wg)(),(0,r.iD)("button",{key:t,class:"heatmap-button",style:(0,m.j5)(i.buttonStyle(e)),disabled:"true"},(0,m.zw)(e.interaction),5)))),128))],12,Ye)}var Xe={props:{screenResolution:{type:String,required:!0},data:{type:Array,default:()=>[],required:!0},id:{type:String,required:!0}},computed:{containerStyle(){const[e,t]=this.screenResolution.split("x").map((e=>parseInt(e.trim()))),a=e/2,n=t/2;return{width:`${a}px`,height:`${n}px`,position:"relative",border:"1px solid #ccc"}},transformedData(){return this.data.map((e=>{const[t,a]=e.location.split("x").map((e=>parseFloat(e.trim()))),n=t/this.originalWidth*this.containerWidth,r=a/this.originalHeight*this.containerHeight;return{location:{x:n,y:r},interaction:e.count}}))},originalWidth(){return parseInt(this.screenResolution.split("x")[0].trim())},originalHeight(){return parseInt(this.screenResolution.split("x")[1].trim())},containerWidth(){return this.originalWidth/2},containerHeight(){return this.originalHeight/2}},methods:{buttonStyle(e){const t=20,a=this.getColor(e.interaction);return{position:"absolute",top:`${e.location.y}px`,left:`${e.location.x}px`,transform:"translate(-50%, -50%)",width:`${t}px`,height:`${t}px`,borderRadius:"50%",background:a,color:"#fff",fontSize:"12px",fontWeight:"bold",border:"none",cursor:"pointer"}},getColor(e){const t=Math.max(...this.data.map((e=>e.count))),a=Math.min(...this.data.map((e=>e.count)));if(e<=a)return"#7BDCB5";if(e<=t){const n=(e-a)/(t-a),r=Math.floor(124+131*n),s=Math.floor(220+-5*n),i=Math.floor(181+-110*n);return`rgb(${r},${s},${i})`}return"#FF6347"}}};const Qe=(0,l.Z)(Xe,[["render",Ge],["__scopeId","data-v-46aef9ca"]]);var et=Qe,tt=(a(5654),a(4161));function at(){let e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}const nt="http://localhost:8080";class rt{getDashBoard(e){return tt.Z.post(nt+"/api/dashboard/",e,{headers:at()})}}var st=new rt,it={components:{LineChart:Fe,KpiChart:Je,HeatMapChart:et},data(){return{content:"",startDate:new Date((new Date).setDate((new Date).getDate()-7)).toISOString().substr(0,10),endDate:(new Date).toISOString().substr(0,10),step:6,stepType:"hour",kpis:{},heatmaps:{},graphs:{}}},mounted(){this.getDashBoard()},methods:{getDashBoard(){const e={start:this.startDate,end:this.endDate,step:this.step,step_type:this.stepType};st.getDashBoard(e).then((e=>{const{kpis:t,heatmaps:a,graphes:n}=e.data;this.kpis=t,this.heatmaps=a,this.heatmaps.forEach((e=>{e.data.forEach((e=>{"8x248.5"===e.location&&(e.location="708x248.5")}))})),this.graphs=n}),(e=>{this.datas=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))}}};const ot=(0,l.Z)(it,[["render",ye],["__scopeId","data-v-b3ff5734"]]);var lt=ot;const ct={class:"signup-form"},dt=(0,r._)("h2",null,"Sign Up",-1),pt={class:"form-group"},mt=(0,r._)("label",{for:"userName"},"Username:",-1),ut={class:"form-group"},gt=(0,r._)("label",{for:"password"},"Password:",-1),ht={class:"form-group"},bt=(0,r._)("label",{for:"passwordConfirmation"},"Confirm Password:",-1),ft={class:"form-group"},vt=(0,r._)("label",{for:"email"},"Email:",-1),yt={class:"form-group"},_t=(0,r._)("label",{for:"contactInfo"},"Contact Information:",-1),wt={class:"form-group"},kt=(0,r._)("label",{for:"companyName"},"Company Name:",-1),xt={class:"form-group"},Ct=(0,r._)("label",{for:"kbis"},"KBIS (PDF file):",-1),Dt={class:"form-group"},Pt=(0,r._)("label",{for:"websiteUrl"},"Website URL:",-1),St=(0,r._)("button",{type:"submit"},"Sign Up",-1);function Lt(e,t,a,n,s,i){const o=(0,r.up)("Field"),l=(0,r.up)("ErrorMessage"),c=(0,r.up)("Form");return(0,r.wg)(),(0,r.iD)("div",ct,[dt,(0,r.Wm)(c,{onSubmit:i.handleSubmit,"validation-schema":s.schema},{default:(0,r.w5)((()=>[(0,r._)("div",pt,[mt,(0,r.Wm)(o,{name:"userName",type:"text",class:"form-control"}),(0,r.Wm)(l,{name:"userName",class:"error-feedback"})]),(0,r._)("div",ut,[gt,(0,r.Wm)(o,{name:"password",type:"password",class:"form-control"}),(0,r.Wm)(l,{name:"password",class:"error-feedback"})]),(0,r._)("div",ht,[bt,(0,r.Wm)(o,{name:"passwordConfirmation",type:"password",class:"form-control"}),(0,r.Wm)(l,{name:"passwordConfirmation",class:"error-feedback"})]),(0,r._)("div",ft,[vt,(0,r.Wm)(o,{name:"email",type:"email",class:"form-control"}),(0,r.Wm)(l,{name:"email",class:"error-feedback"})]),(0,r._)("div",yt,[_t,(0,r.Wm)(o,{name:"contactInfo",type:"text",class:"form-control"}),(0,r.Wm)(l,{name:"contactInfo",class:"error-feedback"})]),(0,r._)("div",wt,[kt,(0,r.Wm)(o,{name:"companyName",type:"text",class:"form-control"}),(0,r.Wm)(l,{name:"companyName",class:"error-feedback"})]),(0,r._)("div",xt,[Ct,(0,r.Wm)(o,{name:"kbis",type:"file",class:"form-control",accept:"application/pdf"}),(0,r.Wm)(l,{name:"kbis",class:"error-feedback"})]),(0,r._)("div",Dt,[Pt,(0,r.Wm)(o,{name:"websiteUrl",type:"url",class:"form-control"}),(0,r.Wm)(l,{name:"websiteUrl",class:"error-feedback"})]),St])),_:1},8,["onSubmit","validation-schema"])])}var jt={name:"SignUp",components:{Form:T.l0,Field:T.gN,ErrorMessage:T.Bc},data(){const e=W.Ry().shape({userName:W.Z_().required("Username is required!"),password:W.Z_().required("Password is required!").min(8,"Password must be at least 8 characters"),passwordConfirmation:W.Z_().oneOf([W.iH("password"),null],"Passwords do not match").required("Password confirmation is required!"),email:W.Z_().required("Email is required!").email("Invalid email format"),contactInfo:W.Z_().required("Contact Information is required!"),companyName:W.Z_().required("Company Name is required!"),kbis:W.nK().required("KBIS (PDF file) is required!"),websiteUrl:W.Z_().url("Invalid URL format").required("Website URL is required!")});return{schema:e,userData:{userName:"",password:"",email:"",contactInfo:"",companyName:"",kbis:null,websiteUrl:""}}},methods:{handleSubmit(e){delete e.passwordConfirmation,this.$store.dispatch("auth/register",e).then((()=>{this.$router.push("/login"),console.log("User registered successfully!")}),(e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))}}};const Tt=(0,l.Z)(jt,[["render",Lt]]);var Wt=Tt;const Mt=e=>((0,r.dD)("data-v-38ff8c62"),e=e(),(0,r.Cn)(),e),It={class:"dashboard"},Nt={class:"content"},Vt=Mt((()=>(0,r._)("div",{class:"mt-4",style:{"background-color":"#f8fafb",height:"80px !important",width:"95%","margin-left":"2rem !important","border-radius":"1rem"}},[(0,r._)("label",{style:{margin:"1.5rem 0 0 2rem","font-size":"21px","font-weight":"500"}},"Administration")],-1))),Ft={class:"mt-4 col-12",style:{"background-color":"#f8fafb",height:"50px !important",width:"95%","margin-left":"2rem !important","border-radius":"1rem"}},Ut={class:"d-flex"},zt={class:"pagination pr-4 py-auto my-auto align-items-center d-flex justify-content-between"},Bt={class:"d-flex"},At={style:{width:"100px","padding-top":"14px"}},Et={class:"pl-4 d-flex",style:{width:"250px"}},Ot=["disabled"],qt=["disabled"],Zt={style:{"padding-top":"14px"}},Rt=["disabled"],Ht=["disabled"],Kt={style:{width:"250px"}},$t={style:{"padding-top":"10px"}},Jt={class:"chips chips_purple py-2"},Yt={class:"d-flex mt-4 justify-content-between py-3 px-4",style:{"margin-left":"32px !important","padding-left":"38px !important","background-color":"#f8fafb","border-radius":"1rem",width:"95%",height:"60px"}},Gt={class:"row"},Xt={style:{width:"250px"},class:"d-flex justify-content-center border-right"},Qt=Mt((()=>(0,r._)("b",{class:"mr-2"},"User",-1))),ea=[Qt],ta={style:{width:"250px"},class:"d-flex justify-content-center border-right"},aa=Mt((()=>(0,r._)("b",{class:"mr-2"},"Email",-1))),na=[aa],ra={style:{width:"250px"},class:"d-flex justify-content-center border-right"},sa=Mt((()=>(0,r._)("b",{class:"mr-2"},"Contact Infos",-1))),ia=[sa],oa={style:{width:"250px"},class:"d-flex justify-content-center border-right"},la=Mt((()=>(0,r._)("b",{class:"mr-2"},"Validated",-1))),ca=[la],da=Mt((()=>(0,r._)("div",{style:{width:"200px"},class:"d-flex justify-content-center border-right"},[(0,r._)("span",{class:"cursor-pointer"},[(0,r._)("b",{class:"mr-2"},"KBIS")])],-1))),pa=["id"],ma={style:{width:"250px"},class:"d-flex justify-content-center border-right"},ua={class:"cursor-pointer"},ga={style:{width:"250px"},class:"d-flex justify-content-center border-right"},ha={class:"cursor-pointer"},ba={style:{width:"250px"},class:"d-flex justify-content-center border-right"},fa={class:"cursor-pointer"},va={style:{width:"250px"},class:"d-flex justify-content-center border-right"},ya={style:{width:"200px"},class:"d-flex justify-content-center border-right"},_a={class:"cursor-pointer"},wa=["onClick"],ka={key:1,class:"cursor-pointer"},xa={key:0,style:{width:"110px"},class:"d-flex justify-content-center"},Ca=["onClick"],Da={class:"pdf-modal-content"};function Pa(e,t,a,s,i,o){const l=(0,r.up)("Sidebar"),c=(0,r.up)("font-awesome-icon"),d=(0,r.up)("vue-pdf-embed");return(0,r.wg)(),(0,r.iD)("div",It,[(0,r.Wm)(l),(0,r._)("div",Nt,[Vt,(0,r._)("div",Ft,[(0,r._)("div",Ut,[(0,r._)("div",zt,[(0,r._)("div",Bt,[(0,r._)("span",At,[(0,r.Uk)("Page "),(0,r._)("b",null,(0,m.zw)(i.currentPage),1),(0,r.Uk)(" of "+(0,m.zw)(o.nbPageMax),1)]),(0,r._)("div",Et,[(0,r._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=e=>o.navigatePage("backward")),disabled:1===i.currentPage},[(0,r.Wm)(c,{icon:"step-backward"})],8,Ot),(0,r._)("button",{class:"btn ml-1 mr-2 btn-primary",onClick:t[1]||(t[1]=e=>o.navigatePage("prev")),disabled:1===i.currentPage},[(0,r.Wm)(c,{icon:"chevron-left"})],8,qt),(0,r._)("b",Zt,(0,m.zw)(i.currentPage),1),(0,r._)("button",{class:"btn ml-2 mr-1 btn-primary",onClick:t[2]||(t[2]=e=>o.navigatePage("next")),disabled:i.currentPage===o.nbPageMax},[(0,r.Wm)(c,{icon:"chevron-right"})],8,Rt),(0,r._)("button",{class:"btn ml-1 btn-primary",onClick:t[3]||(t[3]=e=>o.navigatePage("forward")),disabled:i.currentPage===o.nbPageMax},[(0,r.Wm)(c,{icon:"step-forward"})],8,Ht)]),(0,r._)("div",Kt,[(0,r._)("p",$t,[(0,r.Uk)(" Total webmaster: "),(0,r._)("span",Jt,(0,m.zw)(o.totalWebmaster),1)])])]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",placeholder:"Search","aria-label":"Search","aria-describedby":"basic-addon1","onUpdate:modelValue":t[4]||(t[4]=e=>i.search=e),style:{"border-radius":"1rem",width:"300px !important"}},null,512),[[n.nr,i.search]])])])])]),(0,r._)("div",Yt,[(0,r._)("div",Gt,[(0,r._)("div",Xt,[(0,r._)("span",{class:"cursor-pointer",onClick:t[5]||(t[5]=t=>e.orderListBy("userName","String"))},ea),e.sortOption===e.userName&&"DESC"===e.sortDirection?((0,r.wg)(),(0,r.j4)(c,{key:0,style:{"margin-top":"5px"},onClick:t[6]||(t[6]=t=>e.orderListBy("userName","String")),icon:"sort-down"})):e.sortOption===e.userName&&"ASC"===e.sortDirection?((0,r.wg)(),(0,r.j4)(c,{key:1,style:{"margin-top":"5px"},onClick:t[7]||(t[7]=t=>e.orderListBy("userName","String")),icon:"sort-up"})):((0,r.wg)(),(0,r.j4)(c,{key:2,style:{"margin-top":"5px"},onClick:t[8]||(t[8]=t=>e.orderListBy("userName","String")),icon:"sort"}))]),(0,r._)("div",ta,[(0,r._)("span",{class:"cursor-pointer",onClick:t[9]||(t[9]=t=>e.orderListBy("email","String"))},na),e.sortOption===e.userName&&"DESC"===e.sortDirection?((0,r.wg)(),(0,r.j4)(c,{key:0,style:{"margin-top":"5px"},onClick:t[10]||(t[10]=t=>e.orderListBy("email","String")),icon:"sort-down"})):e.sortOption===e.userName&&"ASC"===e.sortDirection?((0,r.wg)(),(0,r.j4)(c,{key:1,style:{"margin-top":"5px"},onClick:t[11]||(t[11]=t=>e.orderListBy("email","String")),icon:"sort-up"})):((0,r.wg)(),(0,r.j4)(c,{key:2,style:{"margin-top":"5px"},onClick:t[12]||(t[12]=t=>e.orderListBy("email","String")),icon:"sort"}))]),(0,r._)("div",ra,[(0,r._)("span",{class:"cursor-pointer",onClick:t[13]||(t[13]=t=>e.orderListBy("contact","String"))},ia),e.sortOption===e.userName&&"DESC"===e.sortDirection?((0,r.wg)(),(0,r.j4)(c,{key:0,style:{"margin-top":"5px"},onClick:t[14]||(t[14]=t=>e.orderListBy("contact","String")),icon:"sort-down"})):e.sortOption===e.userName&&"ASC"===e.sortDirection?((0,r.wg)(),(0,r.j4)(c,{key:1,style:{"margin-top":"5px"},onClick:t[15]||(t[15]=t=>e.orderListBy("contact","String")),icon:"sort-up"})):((0,r.wg)(),(0,r.j4)(c,{key:2,style:{"margin-top":"5px"},onClick:t[16]||(t[16]=t=>e.orderListBy("contact","String")),icon:"sort"}))]),(0,r._)("div",oa,[(0,r._)("span",{class:"cursor-pointer",onClick:t[17]||(t[17]=t=>e.orderListBy("isValidated","String"))},ca),e.sortOption===e.userName&&"DESC"===e.sortDirection?((0,r.wg)(),(0,r.j4)(c,{key:0,style:{"margin-top":"5px"},onClick:t[18]||(t[18]=t=>e.orderListBy("isValidated","String")),icon:"sort-down"})):e.sortOption===e.userName&&"ASC"===e.sortDirection?((0,r.wg)(),(0,r.j4)(c,{key:1,style:{"margin-top":"5px"},onClick:t[19]||(t[19]=t=>e.orderListBy("isValidated","String")),icon:"sort-up"})):((0,r.wg)(),(0,r.j4)(c,{key:2,style:{"margin-top":"5px"},onClick:t[20]||(t[20]=t=>e.orderListBy("isValidated","String")),icon:"sort"}))]),da])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.filteredWebmaster,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t,class:"d-flex mt-4 justify-content-between py-3 px-4",style:{margin:"0.5rem 0 0 2rem !important","background-color":"#f8fafb","border-radius":"1rem",width:"95%",height:"60px"}},[(0,r._)("div",{class:"row px-3",id:"dupli-row-"+e.id},[(0,r._)("div",ma,[(0,r._)("span",ua,(0,m.zw)(e.userName??"Not available"),1)]),(0,r._)("div",ga,[(0,r._)("span",ha,(0,m.zw)(e.email??"Not available"),1)]),(0,r._)("div",ba,[(0,r._)("span",fa,(0,m.zw)(e.contactInfo??"Not available"),1)]),(0,r._)("div",va,[(0,r._)("div",null,[(0,r._)("span",{class:(0,m.C_)(["cursor-pointer",{"chip-green":e.isValidated,"chip-red":!e.isValidated}])},(0,m.zw)(e.isValidated?"Validated":"Not Validated"),3)])]),(0,r._)("div",ya,[(0,r._)("div",null,[(0,r._)("span",_a,[e.kbis?((0,r.wg)(),(0,r.iD)("button",{key:0,class:"btn btn-primary",onClick:t=>o.handleShowPdf(e.kbis)}," Show file ",8,wa)):((0,r.wg)(),(0,r.iD)("span",ka," Not available "))])])]),e.isValidated?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",xa,[(0,r._)("div",null,[(0,r._)("button",{class:"btn btn-primary",onClick:t=>o.validate(e.id)}," Validate ",8,Ca)])]))],8,pa)])))),128)),i.showFile?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"pdf-modal",onClick:t[22]||(t[22]=(...e)=>o.handleClosePdf&&o.handleClosePdf(...e))},[(0,r._)("div",Da,[(0,r.Wm)(d,{source:i.showedFile,onClick:t[21]||(t[21]=(0,n.iM)((()=>{}),["stop"]))},null,8,["source"])])])):(0,r.kq)("",!0)])])}const Sa="http://localhost:8080";class La{validateUser(e){return tt.Z.put(Sa+"/api/users/validate/"+e,null,{headers:at()})}getAdminBoard(){return tt.Z.get(Sa+"/api/users/",{headers:at()})}}var ja=new La,Ta=a(3627),Wa=a.n(Ta);const Ma="http://localhost:8080";var Ia={components:{VuePdfEmbed:Wa()},data(){return{webMasterList:[],currentPage:1,pageLimit:10,search:"",showFile:!1,showedFile:""}},computed:{nbPageMax(){return Math.ceil(this.webMasterList.length/this.pageLimit)},totalWebmaster(){return this.filteredWebmaster.length},filteredWebmaster(){return this.search?this.webMasterList.filter((e=>e.userName?.toString().toLowerCase().includes(this.search.toString().toLowerCase())||e.email?.toString().toLowerCase().includes(this.search.toString().toLowerCase())||e.contact?.toString().toLowerCase().includes(this.search.toString().toLowerCase())||e.isValidated?.toString().toLowerCase().includes(this.search.toString().toLowerCase()))).slice((this.currentPage-1)*this.pageLimit,this.currentPage*this.pageLimit):this.webMasterList.slice((this.currentPage-1)*this.pageLimit,this.currentPage*this.pageLimit)}},mounted(){this.getAdminBoard()},methods:{navigatePage(e){"forward"===e&&this.currentPage<this.nbPageMax?this.currentPage=this.nbPageMax:"backward"===e&&this.currentPage>1?this.currentPage=1:"next"===e&&this.currentPage<this.nbPageMax?this.currentPage++:"prev"===e&&this.currentPage>1&&this.currentPage--},handleShowPdf(e){this.showFile=!0,this.showedFile=Ma+"/uploads/"+e,console.log("http://localhost:8080")},handleClosePdf(){this.showFile=!1,this.showedFile=""},validate(e){ja.validateUser(e).then((()=>{this.getAdminBoard()}),(e=>{this.content=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))},getAdminBoard(){ja.getAdminBoard().then((e=>{this.content=e.data,this.webMasterList=e.data}),(e=>{this.content=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))}}};const Na=(0,l.Z)(Ia,[["render",Pa],["__scopeId","data-v-38ff8c62"]]);var Va=Na;const Fa=e=>((0,r.dD)("data-v-6d007404"),e=e(),(0,r.Cn)(),e),Ua={class:"sdk"},za={class:"content"},Ba=Fa((()=>(0,r._)("div",{class:"mt-4",style:{"background-color":"#f8fafb",height:"80px !important",width:"95%","margin-left":"2rem !important","border-radius":"1rem"}},[(0,r._)("label",{style:{margin:"1.5rem 0 0 2rem","font-size":"21px","font-weight":"500",width:"95%"}},"SDK")],-1))),Aa={class:"d-flex mt-4 justify-content-between py-3 px-4",style:{"margin-left":"2rem !important","background-color":"#f8fafb","border-radius":"1rem",width:"95%",height:"max-content"}},Ea=(0,r.uE)('<div class="how-to-use" style="max-width:650px;margin:1rem 2rem 0 0;" data-v-6d007404><h2 data-v-6d007404>How to Use the vueTracker Plugin</h2><p data-v-6d007404> To use the <code data-v-6d007404>vueTracker</code> plugin in your Vue.js application, follow these steps: </p><ol data-v-6d007404><li data-v-6d007404>Install the required dependencies (js-cookie and uuid) using npm or yarn:</li><br data-v-6d007404><pre data-v-6d007404><code data-v-6d007404>     \nnpm install js-cookie uuid\n                        </code></pre><li data-v-6d007404> Create a file for the plugin, e.g., <code data-v-6d007404>vueTracker.js</code>, and copy the content of the <code data-v-6d007404>vueTracker</code> plugin to it. </li><br data-v-6d007404><li data-v-6d007404> Import and install the plugin in your main Vue app file (usually <code data-v-6d007404>main.js</code>): </li><br data-v-6d007404><pre data-v-6d007404>        <code data-v-6d007404>\nimport Vue from &#39;vue&#39;;\nimport App from &#39;./App.vue&#39;;\nimport vueTracker from &#39;./path/to/tracker&#39;; // Replace with the actual path to your tracker.js file\n\nVue.use(vueTracker);\n\nnew Vue({\nrender: (h) =&gt; h(App),\n}).$mount(&#39;#app&#39;);\n        </code>\n        </pre><li data-v-6d007404> Add the <code data-v-6d007404>async mounted</code> part to your <code data-v-6d007404>App.vue</code> file: </li><br data-v-6d007404><pre data-v-6d007404>                            <code data-v-6d007404> \nexport default {\nname: &#39;App&#39;,\ncomponents: {\n},\nasync mounted() {\n    this.$tracker.detectNewVisitor();\n\n    await this.$tracker.detectSession();\n\n    const intervalDuration = 10 * 60 * 1000;\n\n    this.sessionInterval = setInterval(async () =&gt; {\n    await this.$tracker.detectSession();\n    }, intervalDuration);\n\n    document.addEventListener(&#39;click&#39;, this.updateLastActivity);\n    // document.addEventListener(&#39;mousemove&#39;, this.updateLastActivity);\n    document.addEventListener(&#39;keydown&#39;, this.updateLastActivity);\n},\n}\n                            </code>\n                        </pre><li data-v-6d007404> Now you can create your our event tracker. Here&#39;s an example of how to use the directives to change in the plugin </li><br data-v-6d007404><pre data-v-6d007404>        <code data-v-6d007404>\nconst trackerDirectiveForClick = {\nmounted(el, binding) {\n    const { value } = binding;\n    const { tag } = value;\n\n    el.addEventListener(&#39;click&#39;, () =&gt; {\n        let visitorId =  getCookie(&#39;visitor_id&#39;);\n        trackEvent(&#39;custom_event&#39;,\n            {\n                event_types: &#39;click&#39;,\n                tag_id: tag,\n                tdate: new Date().toLocaleString(),\n                visitor_id: visitorId,\n                session_id: tmp_session_id,\n                app_id: APP_ID,\n            });\n    });\n},\n};\n\nconst vueTracker = {\ninstall(Vue) {\n    Vue.directive(&#39;tracker-click&#39;, trackerDirectiveForClick);\n},\n};\n        </code>\n        </pre></ol></div>',1),Oa={class:"code-container ml-2"},qa={class:"code-header d-flex justify-content-between"},Za=Fa((()=>(0,r._)("div",{class:"code-header-title"},[(0,r._)("h3",null,"vueTracker.js")],-1))),Ra={class:"code-header-buttons"},Ha=Fa((()=>(0,r._)("code",null," \nimport Cookies from 'js-cookie';\nimport { v4 as uuidv4 } from 'uuid';\nconst API_URL = 'http://localhost:8080';\n\nconst socketUrl = API_URL + '/api/events';\n\nconst APP_ID = 'test';\n\nlet tmp_session_id = null;\n\nlet pagesVisited = [];\n\nconst trackEvent = (eventName, eventData) => {\nfetch(socketUrl, {\nmethod: 'POST',\nheaders: {\n    'Content-Type': 'application/json',\n    'App-Id': APP_ID,\n},\nbody: JSON.stringify({ eventName, eventData }),\n})\n.then((response) => {\n    if (!response.ok) {\n        throw new Error('Network response was not ok');\n    }\n})\n.catch((error) => {\n    console.error('Error sending event data:', error);\n});\n};\n\nconst detectNewVisitor = () => {\nlet visitorId = getCookie('visitor_id');\n\nif (!visitorId) {\nconst newVisitorId = generateUniqueVisitorId();\n\nsetCookie('visitor_id', newVisitorId, 365);\n\ntmp_session_id == null ? startNewSession() : null;\n\nstartNewSession();\ntrackEvent('custom_event', {\n    event_types: 'new_visitor',\n    tag_id: null,\n    tdate: new Date().toLocaleString(),\n    visitor_id: newVisitorId,\n    session_id: tmp_session_id,\n    app_id: APP_ID,\n});\n} else {\ntmp_session_id == null ? startNewSession() : null;\nstartNewSession();\ntrackEvent('custom_event', {\n    event_types: 'new_visitor',\n    tag_id: null,\n    tdate: new Date().toLocaleString(),\n    visitor_id: visitorId,\n    session_id: tmp_session_id,\n    app_id: APP_ID,\n});\n}\n};\n\n// Function to set a cookie\nconst setCookie = (name, value, days) => {\nconst expires = new Date();\nexpires.setTime(expires.getTime() + days * 24 * 60 * 60 * 1000);\ndocument.cookie = `${name}=${value};expires=${expires.toUTCString()};path=/`;\n};\n\n// Function to get a cookie value by name\nconst getCookie = (name) => {\nconst cookieArr = document.cookie.split(';');\nfor (let i = 0; i < cookieArr.length; i++) {\nconst cookiePair = cookieArr[i].split('=');\nconst cookieName = cookiePair[0].trim();\nif (cookieName === name) {\n    return decodeURIComponent(cookiePair[1]);\n}\n}\nreturn null;\n};\n\nconst detectSession = () => {\n\nconst lastActivityTime = Cookies.get('last_activity_time');\n\nif (lastActivityTime) {\nconst currentTime = new Date().getTime();\nconst lastActivityTimestamp = parseInt(lastActivityTime);\nconst sessionDuration = currentTime - lastActivityTimestamp;\n\nconst sessionTimeout = 15 * 60 * 1000;\n\nif (sessionDuration > sessionTimeout) {\n    const visitorId =  getCookie('visitor_id');\n    const tdate = new Date().toLocaleString();\n    const app_id = APP_ID;\n    const pagesVisitedList = pagesVisited;\n\n    trackEvent('session_event', {\n        session_duration: sessionDuration,\n        visitor_id: visitorId,\n        tdate: tdate,\n        app_id: app_id,\n        pageVisited: pagesVisitedList,\n    });\n\n    startNewSession();\n}\n} else {\nstartNewSession();\n}\n};\n\n\nconst startNewSession = () => {\ntmp_session_id = generateUniqueSessionId();\npagesVisited = [];\nCookies.set('last_activity_time', new Date().getTime());\n};\n\nconst generateUniqueVisitorId = () => {\nconst visitorId = Math.floor(Math.random() * 1000000).toString();\nreturn visitorId;\n};\n\nconst generateUniqueSessionId = () => {\nconst sessionId = uuidv4();\nreturn sessionId;\n};\n\nconst trackPageView = (url, title) => {\npagesVisited.push({ url, title });\n};\n\nconst trackerDirectiveForClick = {\nmounted(el, binding) {\nconst { value } = binding;\nconst { tag } = value;\n\nel.addEventListener('click', () => {\n    const visitorId =  getCookie('visitor_id');\n    const url = window.location.href;\n    const res = window.screen.width + 'x' + window.screen.height;\n    const rect = el.getBoundingClientRect();\n    const position =  (rect.left + window.scrollX) + 'x' + (rect.top + window.scrollY);\n    trackEvent('custom_event',\n        {\n            event_types: 'click',\n            tag_id: tag,\n            tdate: new Date().toISOString(), // Use ISO string for tdate\n            visitor_id: visitorId,\n            session_id: tmp_session_id,\n            app_id: APP_ID,\n            url: url,\n            location: position,\n            screen_resolution: res,\n        });\n});\n},\n};\n\n\nconst trackerDirectiveForHover = {\nmounted(el, binding) {\nconst { value } = binding;\nconst { tag } = value;\n\nel.addEventListener('mouseover', () => {\n    let visitorId =  getCookie('visitor_id');\n    const url = window.location.href;\n    const res = window.screen.width + 'x' + window.screen.height;\n    const rect = el.getBoundingClientRect();\n    const position =  (rect.left + window.scrollX) + 'x' + (rect.top + window.scrollY);\n    trackEvent('custom_event',\n        {\n            event_types: 'hover',\n            tag_id: tag,\n            tdate: new Date().toLocaleString(),\n            visitor_id: visitorId,\n            session_id: tmp_session_id,\n            app_id: APP_ID,\n            url: url,\n            location: position,\n            screen_resolution: res,\n        });\n});\n},\n};\n\n// Create the SDK plugin\nconst vueTracker = {\ninstall(Vue) {\nVue.directive('tracker-click', trackerDirectiveForClick);\n\nVue.directive('tracker-hover', trackerDirectiveForHover);\n\nVue.mixin({\n    beforeCreate() {\n        this.$tracker = {\n            trackEvent,\n            detectNewVisitor,\n            detectSession,\n            trackPageView,\n        };\n    },\n});\n},\n};\n\nexport default vueTracker;\n\n\n                        ",-1))),Ka={class:"code-footer d-flex justify-content-center"};function $a(e,t,a,n,s,i){const o=(0,r.up)("Sidebar"),l=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)("div",Ua,[(0,r.Wm)(o),(0,r._)("div",za,[Ba,(0,r._)("div",Aa,[Ea,(0,r._)("div",Oa,[(0,r._)("div",qa,[Za,(0,r._)("div",Ra,[(0,r._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...e)=>i.copyCode&&i.copyCode(...e))},[(0,r.Wm)(l,{icon:"copy"}),(0,r.Uk)(" Copy")])])]),(0,r._)("pre",{class:(0,m.C_)(["code",{"show-full-code":s.showFullCode}])},[(0,r.Uk)("                        "),Ha,(0,r.Uk)(">\n                    ")],2),(0,r._)("div",Ka,[(0,r._)("button",{class:"btn btn-link",onClick:t[1]||(t[1]=(...e)=>i.toggleFullCode&&i.toggleFullCode(...e))},[(0,r.Wm)(l,{icon:s.showFullCode?"chevron-up":"chevron-down"},null,8,["icon"])])])])])])])}var Ja={data(){return{showFullCode:!1}},mounted(){},methods:{copyCode(){const e=document.createElement("textarea");e.value=document.querySelector(".code").innerText,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)},toggleFullCode(){this.showFullCode=!this.showFullCode}}};const Ya=(0,l.Z)(Ja,[["render",$a],["__scopeId","data-v-6d007404"]]);var Ga=Ya;const Xa=e=>((0,r.dD)("data-v-6e77ead0"),e=e(),(0,r.Cn)(),e),Qa={class:"dashboard"},en={class:"content"},tn={class:"mt-4",style:{"background-color":"#f8fafb",height:"80px !important",width:"95%","margin-left":"2rem !important","border-radius":"1rem"}},an=Xa((()=>(0,r._)("label",{style:{margin:"1.5rem 0 0 2rem","font-size":"21px","font-weight":"500"}},"Graphes",-1))),nn=["onClick"],rn=["onClick"],sn={class:"form-group"},on={class:"form-group"},ln=Xa((()=>(0,r._)("label",{for:"name"},"Nom :",-1))),cn={class:"form-group"},dn=Xa((()=>(0,r._)("label",{for:"graphe_type"},"Type de graphe :",-1))),pn={class:"form-group"},mn=Xa((()=>(0,r._)("label",{for:"event_type"},"Type d'évenement :",-1))),un={class:"form-group"},gn=Xa((()=>(0,r._)("label",{for:"page_url"},"URL :",-1))),hn=Xa((()=>(0,r._)("button",{type:"submit"},"submit graphe",-1))),bn=["onClick"],fn={class:"mt-4 col-12",style:{"background-color":"#f8fafb",height:"50px !important",width:"95%","margin-left":"2rem !important","border-radius":"1rem"}},vn={class:"d-flex"},yn={class:"pagination pr-4 py-auto my-auto align-items-center d-flex justify-content-between"},_n={class:"d-flex"},wn={style:{width:"100px","padding-top":"14px"}},kn={class:"pl-4 d-flex",style:{width:"250px"}},xn=["disabled"],Cn=["disabled"],Dn={style:{"padding-top":"14px"}},Pn=["disabled"],Sn=["disabled"],Ln={style:{width:"250px"}},jn={style:{"padding-top":"10px"}},Tn={class:"chips chips_purple py-2"},Wn={class:"d-flex mt-4 justify-content-between py-3 px-4",style:{"margin-left":"32px !important","padding-left":"38px !important","background-color":"#f8fafb","border-radius":"1rem",width:"95%",height:"60px"}},Mn={class:"row col-12"},In={style:{width:"25%"},class:"d-flex justify-content-center border-right"},Nn=Xa((()=>(0,r._)("b",{class:"mr-2"},"Id",-1))),Vn=[Nn],Fn={style:{width:"25%"},class:"d-flex justify-content-center border-right"},Un=Xa((()=>(0,r._)("b",{class:"mr-2"},"Nom",-1))),zn=[Un],Bn={style:{width:"25%"},class:"d-flex justify-content-center border-right"},An=Xa((()=>(0,r._)("b",{class:"mr-2"},"Type de graphe",-1))),En=[An],On={style:{width:"25%"},class:"d-flex justify-content-center"},qn=Xa((()=>(0,r._)("b",{class:"mr-2"},"Type d'évenement",-1))),Zn=[qn],Rn=["id"],Hn={style:{width:"25%"},class:"d-flex justify-content-center border-right"},Kn={class:"cursor-pointer"},$n={style:{width:"25%"},class:"d-flex justify-content-center border-right"},Jn={class:"cursor-pointer"},Yn={style:{width:"25%"},class:"d-flex justify-content-center border-right"},Gn={class:"cursor-pointer"},Xn={style:{width:"25%"},class:"d-flex justify-content-center"},Qn={class:"cursor-pointer"};function er(e,t,a,s,i,o){const l=(0,r.up)("Sidebar"),c=(0,r.up)("Field"),d=(0,r.up)("ErrorMessage"),p=(0,r.up)("Form"),u=(0,r.up)("ModalComponent"),g=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)("div",Qa,[(0,r.Wm)(l),(0,r._)("div",en,[(0,r._)("div",tn,[an,(0,r.Wm)(u,null,{activator:(0,r.w5)((({openModal:e})=>[(0,r._)("button",{class:"btn btn-info btn-newTag",onClick:e},"Nouveau Graphe",8,nn)])),actions:(0,r.w5)((({closeModal:e})=>[(0,r._)("button",{class:"btn btn-danger",title:"Fermer",onClick:e},"Fermer",8,rn)])),"close-icon":(0,r.w5)((({closeModal:e})=>[(0,r._)("button",{class:"btn btn-default",title:"Fermer",onClick:e},"x",8,bn)])),default:(0,r.w5)((()=>[(0,r.Wm)(p,{onSubmit:o.createGraphe,"validation-schema":i.schema},{default:(0,r.w5)((()=>[(0,r._)("div",sn,[(0,r._)("div",on,[ln,(0,r.Wm)(c,{name:"name",modelValue:i.grapheData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.grapheData.name=e),type:"text",class:"form-control"},null,8,["modelValue"]),(0,r.Wm)(d,{name:"name",class:"error-feedback"})]),(0,r._)("div",cn,[dn,(0,r.Wm)(c,{name:"graphe_type",modelValue:i.grapheData.graphe_type,"onUpdate:modelValue":t[1]||(t[1]=e=>i.grapheData.graphe_type=e),type:"text",class:"form-control"},null,8,["modelValue"]),(0,r.Wm)(d,{name:"graphe_type",class:"error-feedback"})]),(0,r._)("div",pn,[mn,(0,r.Wm)(c,{name:"event_type",modelValue:i.grapheData.event_type,"onUpdate:modelValue":t[2]||(t[2]=e=>i.grapheData.event_type=e),type:"text",class:"form-control"},null,8,["modelValue"]),(0,r.Wm)(d,{name:"event_type",class:"error-feedback"})]),(0,r._)("div",un,[gn,(0,r.Wm)(c,{name:"page_url",modelValue:i.grapheData.page_url,"onUpdate:modelValue":t[3]||(t[3]=e=>i.grapheData.page_url=e),type:"text",class:"form-control"},null,8,["modelValue"]),(0,r.Wm)(d,{name:"page_url",class:"error-feedback"})])]),hn])),_:1},8,["onSubmit","validation-schema"])])),_:1})]),(0,r._)("div",fn,[(0,r._)("div",vn,[(0,r._)("div",yn,[(0,r._)("div",_n,[(0,r._)("span",wn,[(0,r.Uk)("Page "),(0,r._)("b",null,(0,m.zw)(i.currentPage),1),(0,r.Uk)(" of "+(0,m.zw)(o.nbPageMax),1)]),(0,r._)("div",kn,[(0,r._)("button",{class:"btn btn-primary",onClick:t[4]||(t[4]=t=>e.navigatePage("backward")),disabled:1===i.currentPage},[(0,r.Wm)(g,{icon:"step-backward"})],8,xn),(0,r._)("button",{class:"btn ml-1 mr-2 btn-primary",onClick:t[5]||(t[5]=t=>e.navigatePage("prev")),disabled:1===i.currentPage},[(0,r.Wm)(g,{icon:"chevron-left"})],8,Cn),(0,r._)("b",Dn,(0,m.zw)(i.currentPage),1),(0,r._)("button",{class:"btn ml-2 mr-1 btn-primary",onClick:t[6]||(t[6]=t=>e.navigatePage("next")),disabled:i.currentPage===o.nbPageMax},[(0,r.Wm)(g,{icon:"chevron-right"})],8,Pn),(0,r._)("button",{class:"btn ml-1 btn-primary",onClick:t[7]||(t[7]=t=>e.navigatePage("forward")),disabled:i.currentPage===o.nbPageMax},[(0,r.Wm)(g,{icon:"step-forward"})],8,Sn)]),(0,r._)("div",Ln,[(0,r._)("p",jn,[(0,r.Uk)(" Total tags: "),(0,r._)("span",Tn,(0,m.zw)(o.totalGraphs),1)])])]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",placeholder:"Recherche","aria-label":"Search","aria-describedby":"basic-addon1","onUpdate:modelValue":t[8]||(t[8]=t=>e.search=t),style:{"border-radius":"1rem",width:"300px !important"}},null,512),[[n.nr,e.search]])])])])]),(0,r._)("div",Wn,[(0,r._)("div",Mn,[(0,r._)("div",In,[(0,r._)("span",{class:"cursor-pointer",onClick:t[9]||(t[9]=t=>e.orderListBy("comment","String"))},Vn)]),(0,r._)("div",Fn,[(0,r._)("span",{class:"cursor-pointer",onClick:t[10]||(t[10]=t=>e.orderListBy("comment","String"))},zn)]),(0,r._)("div",Bn,[(0,r._)("span",{class:"cursor-pointer",onClick:t[11]||(t[11]=t=>e.orderListBy("comment","String"))},En)]),(0,r._)("div",On,[(0,r._)("span",{class:"cursor-pointer",onClick:t[12]||(t[12]=t=>e.orderListBy("tags","String"))},Zn)])])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.grapheList,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t,class:"d-flex mt-4 justify-content-between py-3 px-4",style:{margin:"0.5rem 0 0 2rem !important","background-color":"#f8fafb","border-radius":"1rem",width:"95%",height:"60px"}},[(0,r._)("div",{class:"row px-3 col-12",id:"dupli-row-"+e.id},[(0,r._)("div",Hn,[(0,r._)("span",Kn,(0,m.zw)(e.id??"Not available"),1)]),(0,r._)("div",$n,[(0,r._)("span",Jn,(0,m.zw)(e.name??"Not available"),1)]),(0,r._)("div",Yn,[(0,r._)("span",Gn,(0,m.zw)(e.graphe_type??"Not available"),1)]),(0,r._)("div",Xn,[(0,r._)("span",Qn,(0,m.zw)(e.event_type??"Not available"),1)])],8,Rn)])))),128))])])}var tr=a(4870);const ar={class:"modal"},nr=["onClick"],rr={class:"modal-box"},sr={class:"modal-title"},ir={class:"modal-content",style:{border:"0"}},or={class:"modal-actions"};var lr={__name:"ModalComponent",props:{title:{type:String,default:"Formulaire"}},setup(e){const t=(0,tr.iH)(!1);function a(){t.value=!t.value}return(s,i)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.WI)(s.$slots,"activator",{openModal:a},(()=>[(0,r._)("button",{onClick:a},"Open Modal")])),(0,r.wy)((0,r._)("div",ar,[(0,r._)("div",{class:"backdrop",onClick:(0,n.iM)(a,["self"])},null,8,nr),(0,r._)("div",rr,[(0,r._)("div",sr,[(0,r.Uk)((0,m.zw)(e.title),1),(0,r.WI)(s.$slots,"close-icon",{closeModal:a})]),(0,r._)("div",ir,[(0,r.WI)(s.$slots,"default",{},(()=>[(0,r.Uk)("Content")]))]),(0,r._)("div",or,[(0,r.WI)(s.$slots,"actions",{closeModal:a},(()=>[(0,r._)("button",{onClick:a},"Close")]))])])],512),[[n.F8,t.value]])],64))}};const cr=(0,l.Z)(lr,[["__scopeId","data-v-762b0353"]]);var dr=cr;const pr="http://localhost:8080";var mr={components:{Form:T.l0,Field:T.gN,ErrorMessage:T.Bc,ModalComponent:dr},data(){const e=W.Ry().shape({name:W.Z_().required("Le nom doit être renseigné").min(2,"Le nom doit avoir au moins 2 caractères"),graphe_type:W.Z_().required("Le type doit être renseigné").min(2,"Le type doit avoir au moins 2 caractères"),event_type:W.Z_().required("Le event_type doit être renseigné").min(2,"Le event_type doit avoir au moins 2 caractères"),page_url:W.Z_()});return{grapheList:[],currentPage:1,pageLimit:10,piechartDate:null,components:{Form:T.l0,Field:T.gN,ErrorMessage:T.Bc},data:{labels:["Red","Blue","Yellow"],datasets:[{data:[300,50,100],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]},options:{responsive:!0},chartData:{labels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],datasets:[{label:"Page Views",data:[120,180,150,200,250,220,180],backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:2}]},chartOptions:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:300}}},schema:e,grapheData:{graphe_type:"",name:"",event_type:"",page_url:""}}},computed:{nbPageMax(){return Math.ceil(this.grapheList.length/this.pageLimit)},totalGraphs(){return this.filteredGraph.length},filteredGraph(){return this.search?this.grapheList.filter((e=>e.name?.toString().toLowerCase().includes(this.search.toString().toLowerCase()))).slice((this.currentPage-1)*this.pageLimit,this.currentPage*this.pageLimit):this.grapheList.slice((this.currentPage-1)*this.pageLimit,this.currentPage*this.pageLimit)}},async mounted(){this.getGraphes()},methods:{createGraphe(){const e={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(localStorage.getItem("user")).token},body:JSON.stringify({graphe_type:this.grapheData.graphe_type,name:this.grapheData.name,event_type:this.grapheData.event_type})};this.grapheData.comment,fetch(pr+"/api/graphes/create",e).then((async e=>{const t=await e.json();if(!e.ok){const a=t&&t.message||e.status;return Promise.reject(a)}this.getGraphes()})).catch((e=>{this.errorMessage=e,console.error("There was an error!",e)}))},async getGraphes(){await fetch(pr+"/api/graphes/",{method:"Get",headers:{"Content-type":"application/json",Authorization:"Bearer "+JSON.parse(localStorage.getItem("user")).token}}).then((e=>e.json())).then((e=>{this.grapheList=e}))}}};const ur=(0,l.Z)(mr,[["render",er],["__scopeId","data-v-6e77ead0"]]);var gr=ur;const hr=e=>((0,r.dD)("data-v-b08465a4"),e=e(),(0,r.Cn)(),e),br={class:"dashboard"},fr={class:"content"},vr={class:"mt-4",style:{"background-color":"#f8fafb",height:"80px !important",width:"95%","margin-left":"2rem !important","border-radius":"1rem"}},yr=hr((()=>(0,r._)("label",{style:{margin:"1.5rem 0 0 2rem","font-size":"21px","font-weight":"500"}},"Heatmaps",-1))),_r=["onClick"],wr=["onClick"],kr={class:"form-group"},xr={class:"form-group"},Cr=hr((()=>(0,r._)("label",{for:"name"},"Nom :",-1))),Dr={class:"form-group"},Pr=hr((()=>(0,r._)("label",{for:"page_url"},"Page URL:",-1))),Sr=hr((()=>(0,r._)("button",{type:"submit"},"Valider",-1))),Lr=["onClick"],jr={class:"mt-4 col-12",style:{"background-color":"#f8fafb",height:"50px !important",width:"95%","margin-left":"2rem !important","border-radius":"1rem"}},Tr={class:"d-flex"},Wr={class:"pagination pr-4 py-auto my-auto align-items-center d-flex justify-content-between"},Mr={class:"d-flex"},Ir={style:{width:"100px","padding-top":"14px"}},Nr={class:"pl-4 d-flex",style:{width:"250px"}},Vr=["disabled"],Fr=["disabled"],Ur={style:{"padding-top":"14px"}},zr=["disabled"],Br=["disabled"],Ar={style:{width:"250px"}},Er={style:{"padding-top":"10px"}},Or={class:"chips chips_purple py-2"},qr={class:"d-flex mt-4 justify-content-between py-3 px-4",style:{"margin-left":"32px !important","padding-left":"38px !important","background-color":"#f8fafb","border-radius":"1rem",width:"95%",height:"60px"}},Zr={class:"row"},Rr={style:{width:"450px"},class:"d-flex justify-content-center border-right"},Hr=hr((()=>(0,r._)("b",{class:"mr-2"},"Nom",-1))),Kr=[Hr],$r={style:{width:"750px"},class:"d-flex justify-content-center"},Jr=hr((()=>(0,r._)("b",{class:"mr-2"},"Page url",-1))),Yr=[Jr],Gr=["id"],Xr={style:{width:"450px"},class:"d-flex justify-content-center border-right"},Qr={class:"cursor-pointer"},es={class:"badge rounded-pill badge-info"},ts={style:{width:"750px"},class:"d-flex justify-content-center"},as={class:"cursor-pointer"};function ns(e,t,a,s,i,o){const l=(0,r.up)("Sidebar"),c=(0,r.up)("Field"),d=(0,r.up)("ErrorMessage"),p=(0,r.up)("Form"),u=(0,r.up)("ModalComponent"),g=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)("div",br,[(0,r.Wm)(l),(0,r._)("div",fr,[(0,r._)("div",vr,[yr,(0,r.Wm)(u,null,{activator:(0,r.w5)((({openModal:e})=>[(0,r._)("button",{class:"btn btn-info btn-newKpi",onClick:e},"Ajouter heatmap",8,_r)])),actions:(0,r.w5)((({closeModal:e})=>[(0,r._)("button",{class:"btn btn-danger",title:"Fermer",onClick:e},"Fermer",8,wr)])),"close-icon":(0,r.w5)((({closeModal:e})=>[(0,r._)("button",{class:"btn btn-default",title:"Fermer",onClick:e},"x",8,Lr)])),default:(0,r.w5)((()=>[(0,r.Wm)(p,{onSubmit:o.createHeatmap,"validation-schema":i.schema,style:{padding:"1.5em"}},{default:(0,r.w5)((()=>[(0,r._)("div",kr,[(0,r._)("div",xr,[Cr,(0,r.Wm)(c,{name:"name",modelValue:i.heatmapData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.heatmapData.name=e),type:"text",class:"form-control"},null,8,["modelValue"]),(0,r.Wm)(d,{name:"name",class:"error-feedback"})]),(0,r._)("div",Dr,[Pr,(0,r.Wm)(c,{name:"page_url",modelValue:i.heatmapData.page_url,"onUpdate:modelValue":t[1]||(t[1]=e=>i.heatmapData.page_url=e),type:"text",class:"form-control"},null,8,["modelValue"]),(0,r.Wm)(d,{name:"page_url",class:"error-feedback"})])]),Sr])),_:1},8,["onSubmit","validation-schema"])])),_:1})]),(0,r._)("div",jr,[(0,r._)("div",Tr,[(0,r._)("div",Wr,[(0,r._)("div",Mr,[(0,r._)("span",Ir,[(0,r.Uk)("Page "),(0,r._)("b",null,(0,m.zw)(i.currentPage),1),(0,r.Uk)(" of "+(0,m.zw)(o.nbPageMax),1)]),(0,r._)("div",Nr,[(0,r._)("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=t=>e.navigatePage("backward")),disabled:1===i.currentPage},[(0,r.Wm)(g,{icon:"step-backward"})],8,Vr),(0,r._)("button",{class:"btn ml-1 mr-2 btn-primary",onClick:t[3]||(t[3]=t=>e.navigatePage("prev")),disabled:1===i.currentPage},[(0,r.Wm)(g,{icon:"chevron-left"})],8,Fr),(0,r._)("b",Ur,(0,m.zw)(i.currentPage),1),(0,r._)("button",{class:"btn ml-2 mr-1 btn-primary",onClick:t[4]||(t[4]=t=>e.navigatePage("next")),disabled:i.currentPage===o.nbPageMax},[(0,r.Wm)(g,{icon:"chevron-right"})],8,zr),(0,r._)("button",{class:"btn ml-1 btn-primary",onClick:t[5]||(t[5]=t=>e.navigatePage("forward")),disabled:i.currentPage===o.nbPageMax},[(0,r.Wm)(g,{icon:"step-forward"})],8,Br)]),(0,r._)("div",Ar,[(0,r._)("p",Er,[(0,r.Uk)(" Total heatmaps: "),(0,r._)("span",Or,(0,m.zw)(o.totalHeatmaps),1)])])]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",placeholder:"Recherche","aria-label":"Search","aria-describedby":"basic-addon1","onUpdate:modelValue":t[6]||(t[6]=t=>e.search=t),style:{"border-radius":"1rem",width:"300px !important"}},null,512),[[n.nr,e.search]])])])])]),(0,r._)("div",qr,[(0,r._)("div",Zr,[(0,r._)("div",Rr,[(0,r._)("span",{class:"cursor-pointer",onClick:t[7]||(t[7]=t=>e.orderListBy("name","String"))},Kr)]),(0,r._)("div",$r,[(0,r._)("span",{class:"cursor-pointer",onClick:t[8]||(t[8]=t=>e.orderListBy("page_url","String"))},Yr)])])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.filteredHeatmap,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t,class:"d-flex mt-4 justify-content-between py-3 px-4",style:{margin:"0.5rem 0 0 2rem !important","background-color":"#f8fafb","border-radius":"1rem",width:"95%",height:"60px"}},[(0,r._)("div",{class:"row px-3",id:"dupli-row-"+e.id},[(0,r._)("div",Xr,[(0,r._)("span",Qr,[(0,r._)("span",es,(0,m.zw)(e.name??"Not available"),1)])]),(0,r._)("div",ts,[(0,r._)("span",as,(0,m.zw)(e.page_url??"Not available"),1)])],8,Gr)])))),128))])])}const rs="http://localhost:8080";var ss={components:{Form:T.l0,Field:T.gN,ErrorMessage:T.Bc,ModalComponent:dr},data(){const e=W.Ry().shape({name:W.Z_().required("Le nom doit être renseigné").min(2,"Le nom doit avoir au moins 2 caractères"),page_url:W.Z_().required("Le lien de la page doit être renseigné").min(2,"Le  doit avoir au moins 2 caractères")});return{heatmapList:[],piechartDate:null,components:{Form:T.l0,Field:T.gN,ErrorMessage:T.Bc},data:{labels:["Red","Blue","Yellow"],datasets:[{data:[300,50,100],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]},options:{responsive:!0},chartData:{labels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],datasets:[{label:"Page Views",data:[120,180,150,200,250,220,180],backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:2}]},chartOptions:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:300}}},schema:e,heatmapData:{name:"",page_url:""},currentPage:1,pageLimit:10}},computed:{nbPageMax(){return Math.ceil(this.heatmapList.length/this.pageLimit)},totalHeatmaps(){return this.filteredHeatmap.length},filteredHeatmap(){return this.search?this.heatmapList.filter((e=>e.name?.toString().toLowerCase().includes(this.search.toString().toLowerCase()))).slice((this.currentPage-1)*this.pageLimit,this.currentPage*this.pageLimit):this.heatmapList.slice((this.currentPage-1)*this.pageLimit,this.currentPage*this.pageLimit)}},async mounted(){this.getHeatmaps()},methods:{createHeatmap(){const e={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(localStorage.getItem("user")).token},body:JSON.stringify({page_url:this.heatmapData.page_url,name:this.heatmapData.name})};this.heatmapData.comment,fetch(rs+"/api/heatmaps/create",e).then((async e=>{const t=await e.json();if(!e.ok){const a=t&&t.message||e.status;return Promise.reject(a)}this.getHeatmaps(),this.closeModal()})).catch((e=>{this.errorMessage=e,console.error("There was an error!",e)}))},async getHeatmaps(){await fetch(rs+"/api/heatmaps/",{method:"Get",headers:{"Content-type":"application/json",Authorization:"Bearer "+JSON.parse(localStorage.getItem("user")).token}}).then((e=>e.json())).then((e=>{this.heatmapList=e}))}}};const is=(0,l.Z)(ss,[["render",ns],["__scopeId","data-v-b08465a4"]]);var os=is;const ls=e=>((0,r.dD)("data-v-2503968e"),e=e(),(0,r.Cn)(),e),cs={class:"dashboard"},ds={class:"content"},ps={class:"mt-4",style:{"background-color":"#f8fafb",height:"80px !important",width:"100%","margin-left":"2rem !important","border-radius":"1rem"}},ms=ls((()=>(0,r._)("label",{style:{margin:"1.5rem 0 0 2rem","font-size":"21px","font-weight":"500"}},"Kpis",-1))),us=["onClick"],gs=["onClick"],hs={class:"form-group"},bs={class:"form-group"},fs=ls((()=>(0,r._)("label",{for:"name"},"Nom :",-1))),vs={class:"form-group"},ys=ls((()=>(0,r._)("label",{for:"description"},"Description :",-1))),_s={class:"form-group"},ws=ls((()=>(0,r._)("label",{for:"event_type"},"Type d'événement :",-1))),ks=["value"],xs={key:0,class:"form-group"},Cs=ls((()=>(0,r._)("label",{for:"tag_id"},"Tag :",-1))),Ds=ls((()=>(0,r._)("option",{value:null},"Aucun",-1))),Ps=["value"],Ss={class:"form-group"},Ls=ls((()=>(0,r._)("label",{for:"value"},"value:",-1))),js={class:"form-group"},Ts=ls((()=>(0,r._)("label",{for:"value_type"},"Type de value :",-1))),Ws=ls((()=>(0,r._)("option",{value:"taux"},"Taux",-1))),Ms=ls((()=>(0,r._)("option",{value:"number"},"Number",-1))),Is={class:"form-group"},Ns=ls((()=>(0,r._)("label",{for:"start"},"Start Date :",-1))),Vs={class:"form-group"},Fs=ls((()=>(0,r._)("label",{for:"end"},"End Date :",-1))),Us=ls((()=>(0,r._)("button",{type:"submit"},"Valider",-1))),zs=["onClick"],Bs={class:"mt-4 col-12",style:{"background-color":"#f8fafb",height:"50px !important",width:"95%","margin-left":"2rem !important","border-radius":"1rem"}},As={class:"d-flex"},Es={class:"pagination pr-4 py-auto my-auto align-items-center d-flex justify-content-between"},Os={class:"d-flex"},qs={style:{width:"100px","padding-top":"14px"}},Zs={class:"pl-4 d-flex",style:{width:"250px"}},Rs=["disabled"],Hs=["disabled"],Ks={style:{"padding-top":"14px"}},$s=["disabled"],Js=["disabled"],Ys={style:{width:"250px"}},Gs={style:{"padding-top":"10px"}},Xs={class:"chips chips_purple py-2"},Qs={class:"d-flex mt-4 justify-content-between py-3 px-4",style:{"margin-left":"32px !important","padding-left":"38px !important","background-color":"#f8fafb","border-radius":"1rem",width:"95%",height:"60px"}},ei={class:"row col-12"},ti={style:{width:"25%"},class:"d-flex justify-content-center border-right"},ai=ls((()=>(0,r._)("b",{class:"mr-2"},"Id",-1))),ni=[ai],ri={style:{width:"25%"},class:"d-flex justify-content-center border-right"},si=ls((()=>(0,r._)("b",{class:"mr-2"},"Nom",-1))),ii=[si],oi={style:{width:"25%"},class:"d-flex justify-content-center border-right"},li=ls((()=>(0,r._)("b",{class:"mr-2"},"Description",-1))),ci=[li],di={style:{width:"25%"},class:"d-flex justify-content-center"},pi=ls((()=>(0,r._)("b",{class:"mr-2"},"Type d'évenement",-1))),mi=[pi],ui=["id"],gi={style:{width:"25%"},class:"d-flex justify-content-center border-right"},hi={class:"cursor-pointer"},bi={style:{width:"25%"},class:"d-flex justify-content-center border-right"},fi={class:"cursor-pointer"},vi={style:{width:"25%"},class:"d-flex justify-content-center border-right"},yi={class:"cursor-pointer"},_i={style:{width:"25%"},class:"d-flex justify-content-center"},wi={class:"cursor-pointer"};function ki(e,t,a,s,i,o){const l=(0,r.up)("Field"),c=(0,r.up)("ErrorMessage"),d=(0,r.up)("Form"),p=(0,r.up)("ModalComponent"),u=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)("div",cs,[(0,r._)("div",ds,[(0,r._)("div",ps,[ms,(0,r.Wm)(p,null,{activator:(0,r.w5)((({openModal:e})=>[(0,r._)("button",{class:"btn btn-info btn-newKpi",onClick:e},"Ajouter un kpi",8,us)])),actions:(0,r.w5)((({closeModal:e})=>[(0,r._)("button",{class:"btn btn-danger",title:"Fermer",onClick:e},"Fermer",8,gs)])),"close-icon":(0,r.w5)((({closeModal:e})=>[(0,r._)("button",{class:"btn btn-default",title:"Fermer",onClick:e},"x",8,zs)])),default:(0,r.w5)((()=>[(0,r.Wm)(d,{onSubmit:o.createKpi,"validation-schema":i.schema,style:{padding:"1.5em"}},{default:(0,r.w5)((()=>[(0,r._)("div",hs,[(0,r._)("div",bs,[fs,(0,r.Wm)(l,{name:"name",modelValue:i.kpiData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.kpiData.name=e),type:"text",class:"form-control"},null,8,["modelValue"]),(0,r.Wm)(c,{name:"name",class:"error-feedback"})]),(0,r._)("div",vs,[ys,(0,r.Wm)(l,{name:"description",modelValue:i.kpiData.description,"onUpdate:modelValue":t[1]||(t[1]=e=>i.kpiData.description=e),type:"text",class:"form-control"},null,8,["modelValue"]),(0,r.Wm)(c,{name:"description",class:"error-feedback"})]),(0,r._)("div",_s,[ws,(0,r.Wm)(l,{name:"event_type",modelValue:i.kpiData.event_type,"onUpdate:modelValue":t[2]||(t[2]=e=>i.kpiData.event_type=e),as:"select",class:"form-control"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.eventTypes,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e,value:e},(0,m.zw)(e),9,ks)))),128))])),_:1},8,["modelValue"]),(0,r.Wm)(c,{name:"event_type",class:"error-feedback"})]),"new_visitor"!==i.kpiData.event_type&&""!==i.kpiData.event_type?((0,r.wg)(),(0,r.iD)("div",xs,[Cs,(0,r.Wm)(l,{name:"tag_id",modelValue:i.kpiData.tag_id,"onUpdate:modelValue":t[3]||(t[3]=e=>i.kpiData.tag_id=e),as:"select",class:"form-control"},{default:(0,r.w5)((()=>[Ds,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.tags,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e,value:e},(0,m.zw)(e),9,Ps)))),128))])),_:1},8,["modelValue"]),(0,r.Wm)(c,{name:"tag_id",class:"error-feedback"})])):(0,r.kq)("",!0),(0,r._)("div",Ss,[Ls,(0,r.Wm)(l,{name:"value",modelValue:i.kpiData.value,"onUpdate:modelValue":t[4]||(t[4]=e=>i.kpiData.value=e),type:"text",class:"form-control"},null,8,["modelValue"]),(0,r.Wm)(c,{name:"value",class:"error-feedback"})]),(0,r._)("div",js,[Ts,(0,r.Wm)(l,{name:"value_type",modelValue:i.kpiData.value_type,"onUpdate:modelValue":t[5]||(t[5]=e=>i.kpiData.value_type=e),as:"select",class:"form-control"},{default:(0,r.w5)((()=>[Ws,Ms])),_:1},8,["modelValue"]),(0,r.Wm)(c,{name:"value_type",class:"error-feedback"})]),(0,r._)("div",Is,[Ns,(0,r.Wm)(l,{name:"start",modelValue:i.kpiData.start,"onUpdate:modelValue":t[6]||(t[6]=e=>i.kpiData.start=e),type:"date",class:"form-control"},null,8,["modelValue"]),(0,r.Wm)(c,{name:"start",class:"error-feedback"})]),(0,r._)("div",Vs,[Fs,(0,r.Wm)(l,{name:"end",modelValue:i.kpiData.end,"onUpdate:modelValue":t[7]||(t[7]=e=>i.kpiData.end=e),type:"date",class:"form-control"},null,8,["modelValue"]),(0,r.Wm)(c,{name:"end",class:"error-feedback"})])]),Us])),_:1},8,["onSubmit","validation-schema"])])),_:1})]),(0,r._)("div",Bs,[(0,r._)("div",As,[(0,r._)("div",Es,[(0,r._)("div",Os,[(0,r._)("span",qs,[(0,r.Uk)("Page "),(0,r._)("b",null,(0,m.zw)(i.currentPage),1),(0,r.Uk)(" of "+(0,m.zw)(o.nbPageMax),1)]),(0,r._)("div",Zs,[(0,r._)("button",{class:"btn btn-primary",onClick:t[8]||(t[8]=t=>e.navigatePage("backward")),disabled:1===i.currentPage},[(0,r.Wm)(u,{icon:"step-backward"})],8,Rs),(0,r._)("button",{class:"btn ml-1 mr-2 btn-primary",onClick:t[9]||(t[9]=t=>e.navigatePage("prev")),disabled:1===i.currentPage},[(0,r.Wm)(u,{icon:"chevron-left"})],8,Hs),(0,r._)("b",Ks,(0,m.zw)(i.currentPage),1),(0,r._)("button",{class:"btn ml-2 mr-1 btn-primary",onClick:t[10]||(t[10]=t=>e.navigatePage("next")),disabled:i.currentPage===o.nbPageMax},[(0,r.Wm)(u,{icon:"chevron-right"})],8,$s),(0,r._)("button",{class:"btn ml-1 btn-primary",onClick:t[11]||(t[11]=t=>e.navigatePage("forward")),disabled:i.currentPage===o.nbPageMax},[(0,r.Wm)(u,{icon:"step-forward"})],8,Js)]),(0,r._)("div",Ys,[(0,r._)("p",Gs,[(0,r.Uk)(" Total tags: "),(0,r._)("span",Xs,(0,m.zw)(o.totalKpis),1)])])]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",placeholder:"Recherche","aria-label":"Search","aria-describedby":"basic-addon1","onUpdate:modelValue":t[12]||(t[12]=t=>e.search=t),style:{"border-radius":"1rem",width:"300px !important"}},null,512),[[n.nr,e.search]])])])])]),(0,r._)("div",Qs,[(0,r._)("div",ei,[(0,r._)("div",ti,[(0,r._)("span",{class:"cursor-pointer",onClick:t[13]||(t[13]=t=>e.orderListBy("id","String"))},ni)]),(0,r._)("div",ri,[(0,r._)("span",{class:"cursor-pointer",onClick:t[14]||(t[14]=t=>e.orderListBy("name","String"))},ii)]),(0,r._)("div",oi,[(0,r._)("span",{class:"cursor-pointer",onClick:t[15]||(t[15]=t=>e.orderListBy("comment","String"))},ci)]),(0,r._)("div",di,[(0,r._)("span",{class:"cursor-pointer",onClick:t[16]||(t[16]=t=>e.orderListBy("tags","String"))},mi)])])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.filteredKpi,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t,class:"d-flex mt-4 justify-content-between py-3 px-4",style:{margin:"0.5rem 0 0 2rem !important","background-color":"#f8fafb","border-radius":"1rem",width:"95%",height:"80px"}},[(0,r._)("div",{class:"row px-3 col-12",id:"dupli-row-"+e.id},[(0,r._)("div",gi,[(0,r._)("span",hi,(0,m.zw)(e.id??"Not available"),1)]),(0,r._)("div",bi,[(0,r._)("span",fi,(0,m.zw)(e.name??"Not available"),1)]),(0,r._)("div",vi,[(0,r._)("span",yi,(0,m.zw)(e.description??"Not available"),1)]),(0,r._)("div",_i,[(0,r._)("span",wi,(0,m.zw)(e.event_type??"Not available"),1)])],8,ui)])))),128))])])}const xi="http://localhost:8080";class Ci{getEventTypes(){return tt.Z.get(xi+"/api/event/types",{headers:at()})}}var Di=new Ci;const Pi="http://localhost:8080";class Si{getTags(){return tt.Z.get(Pi+"/api/tags/",{headers:at()})}}var Li=new Si;const ji="http://localhost:8080";var Ti={components:{Form:T.l0,Field:T.gN,ErrorMessage:T.Bc,ModalComponent:dr},data(){const e=W.Ry().shape({name:W.Z_().required("Le nom doit être renseigné").min(2,"Le nom doit avoir au moins 2 caractères"),description:W.Z_().required("La description doit être renseigné").min(2,"Le description doit avoir au moins 2 caractères"),event_type:W.Z_().required("Le type d'évenement doit être renseigné").min(2,"Le type d'évenement doit avoir au moins 2 caractères"),page_url:W.Z_(),value:W.Rx("La valeur doit être renseignée").required()});return{kpiList:[],tags:[],eventTypes:[],components:{Form:T.l0,Field:T.gN,ErrorMessage:T.Bc},options:{responsive:!0},schema:e,kpiData:{name:"",description:"",event_type:"",value:"",tag_id:"",value_type:"",start:"",end:""},currentPage:1,pageLimit:10}},computed:{nbPageMax(){return Math.ceil(this.kpiList.length/this.pageLimit)},totalKpis(){return this.filteredKpi.length},filteredKpi(){return this.search?this.kpiList.filter((e=>e.name?.toString().toLowerCase().includes(this.search.toString().toLowerCase()))).slice((this.currentPage-1)*this.pageLimit,this.currentPage*this.pageLimit):this.kpiList.slice((this.currentPage-1)*this.pageLimit,this.currentPage*this.pageLimit)}},async mounted(){this.getKpis(),this.getEventTypes(),this.getTags()},methods:{createKpi(){const e={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(localStorage.getItem("user")).token},body:JSON.stringify({description:this.kpiData.description,name:this.kpiData.name,event_type:this.kpiData.event_type,tag_id:this.kpiData.tag_id,value:parseInt(this.kpiData.value),value_type:this.kpiData.value_type,start:this.kpiData.start,end:this.kpiData.end})};this.kpiData.name,this.kpiData.description,this.kpiData.event_type,this.kpiData.tag_id,this.kpiData.value,this.kpiData.value_type,this.kpiData.start,this.kpiData.end,fetch(ji+"/api/kpis/create",e).then((async e=>{const t=await e.json();if(!e.ok){const a=t&&t.message||e.status;return Promise.reject(a)}this.getKpis(),this.closeModal()})).catch((e=>{this.errorMessage=e,console.error("There was an error!",e)}))},async getKpis(){await fetch(ji+"/api/kpis/",{method:"Get",headers:{"Content-type":"application/json",Authorization:"Bearer "+JSON.parse(localStorage.getItem("user")).token}}).then((e=>e.json())).then((e=>{this.kpiList=e}))},getEventTypes(){Di.getEventTypes().then((e=>{this.eventTypes=e.data}),(e=>{this.content=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))},getTags(){Li.getTags().then((e=>{let t=[];const a=e.data;a.forEach((e=>{t.push(e.tag_uid)})),this.tags=t}),(e=>{this.content=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))}}};const Wi=(0,l.Z)(Ti,[["render",ki],["__scopeId","data-v-2503968e"]]);var Mi=Wi;const Ii=e=>((0,r.dD)("data-v-0f091f6e"),e=e(),(0,r.Cn)(),e),Ni={class:"dashboard"},Vi={class:"content"},Fi={class:"mt-4",style:{"background-color":"#f8fafb",height:"80px !important",width:"95%","margin-left":"2rem !important","border-radius":"1rem"}},Ui=Ii((()=>(0,r._)("label",{style:{margin:"1.5rem 0 0 2rem","font-size":"21px","font-weight":"500"}},"Liste des tags",-1))),zi=["onClick"],Bi=["onClick"],Ai={class:"form-group"},Ei=Ii((()=>(0,r._)("label",{for:"comment"},"Commentaire:",-1))),Oi=Ii((()=>(0,r._)("button",{class:"btn btn-primary",type:"submit"},"Ajouter un tag",-1))),qi=["onClick"],Zi={class:"mt-4 col-12",style:{"background-color":"#f8fafb",height:"50px !important",width:"95%","margin-left":"2rem !important","border-radius":"1rem"}},Ri={class:"d-flex"},Hi={class:"pagination pr-4 py-auto my-auto align-items-center d-flex justify-content-between"},Ki={class:"d-flex"},$i={style:{width:"100px","padding-top":"14px"}},Ji={class:"pl-4 d-flex",style:{width:"250px"}},Yi=["disabled"],Gi=["disabled"],Xi={style:{"padding-top":"14px"}},Qi=["disabled"],eo=["disabled"],to={style:{width:"250px"}},ao={style:{"padding-top":"10px"}},no={class:"chips chips_purple py-2"},ro={class:"d-flex mt-4 justify-content-between py-3 px-4",style:{"margin-left":"32px !important","padding-left":"38px !important","background-color":"#f8fafb","border-radius":"1rem",width:"95%",height:"60px"}},so={class:"row"},io={style:{width:"450px"},class:"d-flex justify-content-center border-right"},oo=Ii((()=>(0,r._)("b",{class:"mr-2"},"Id",-1))),lo=[oo],co={style:{width:"750px"},class:"d-flex justify-content-center"},po=Ii((()=>(0,r._)("b",{class:"mr-2"},"Commentaire",-1))),mo=[po],uo=["id"],go={style:{width:"450px"},class:"d-flex justify-content-center border-right"},ho={class:"cursor-pointer"},bo={class:"badge rounded-pill badge-info"},fo={style:{width:"750px"},class:"d-flex justify-content-center"},vo={class:"cursor-pointer"};function yo(e,t,a,s,i,o){const l=(0,r.up)("Sidebar"),c=(0,r.up)("Field"),d=(0,r.up)("ErrorMessage"),p=(0,r.up)("Form"),u=(0,r.up)("ModalComponent"),g=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)("div",Ni,[(0,r.Wm)(l),(0,r._)("div",Vi,[(0,r._)("div",Fi,[Ui,(0,r.Wm)(u,null,{activator:(0,r.w5)((({openModal:e})=>[(0,r._)("button",{class:"btn btn-info btn-newTag",onClick:e},"Nouveau tag",8,zi)])),actions:(0,r.w5)((({closeModal:e})=>[(0,r._)("button",{class:"btn btn-danger",title:"Fermer",onClick:e},"Fermer",8,Bi)])),"close-icon":(0,r.w5)((({closeModal:e})=>[(0,r._)("button",{class:"btn btn-default",title:"Fermer",onClick:e},"x",8,qi)])),default:(0,r.w5)((()=>[(0,r.Wm)(p,{onSubmit:o.createTag,"validation-schema":i.schema,style:{padding:"1.5em"}},{default:(0,r.w5)((()=>[(0,r._)("div",Ai,[Ei,(0,r.Wm)(c,{name:"comment",modelValue:i.tagData.comment,"onUpdate:modelValue":t[0]||(t[0]=e=>i.tagData.comment=e),type:"text",class:"form-control"},null,8,["modelValue"]),(0,r.Wm)(d,{name:"comment",class:"error-feedback"})]),Oi])),_:1},8,["onSubmit","validation-schema"])])),_:1})]),(0,r._)("div",Zi,[(0,r._)("div",Ri,[(0,r._)("div",Hi,[(0,r._)("div",Ki,[(0,r._)("span",$i,[(0,r.Uk)("Page "),(0,r._)("b",null,(0,m.zw)(i.currentPage),1),(0,r.Uk)(" of "+(0,m.zw)(o.nbPageMax),1)]),(0,r._)("div",Ji,[(0,r._)("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=e=>o.navigatePage("backward")),disabled:1===i.currentPage},[(0,r.Wm)(g,{icon:"step-backward"})],8,Yi),(0,r._)("button",{class:"btn ml-1 mr-2 btn-primary",onClick:t[2]||(t[2]=e=>o.navigatePage("prev")),disabled:1===i.currentPage},[(0,r.Wm)(g,{icon:"chevron-left"})],8,Gi),(0,r._)("b",Xi,(0,m.zw)(i.currentPage),1),(0,r._)("button",{class:"btn ml-2 mr-1 btn-primary",onClick:t[3]||(t[3]=e=>o.navigatePage("next")),disabled:i.currentPage===o.nbPageMax},[(0,r.Wm)(g,{icon:"chevron-right"})],8,Qi),(0,r._)("button",{class:"btn ml-1 btn-primary",onClick:t[4]||(t[4]=e=>o.navigatePage("forward")),disabled:i.currentPage===o.nbPageMax},[(0,r.Wm)(g,{icon:"step-forward"})],8,eo)]),(0,r._)("div",to,[(0,r._)("p",ao,[(0,r.Uk)(" Total tags: "),(0,r._)("span",no,(0,m.zw)(o.totalTags),1)])])]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",placeholder:"Recherche","aria-label":"Search","aria-describedby":"basic-addon1","onUpdate:modelValue":t[5]||(t[5]=t=>e.search=t),style:{"border-radius":"1rem",width:"300px !important"}},null,512),[[n.nr,e.search]])])])])]),(0,r._)("div",ro,[(0,r._)("div",so,[(0,r._)("div",io,[(0,r._)("span",{class:"cursor-pointer",onClick:t[6]||(t[6]=t=>e.orderListBy("tag_uid","String"))},lo)]),(0,r._)("div",co,[(0,r._)("span",{class:"cursor-pointer",onClick:t[7]||(t[7]=t=>e.orderListBy("comment","String"))},mo)])])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.filteredTag,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t,class:"d-flex mt-4 justify-content-between py-3 px-4",style:{margin:"0.5rem 0 0 2rem !important","background-color":"#f8fafb","border-radius":"1rem",width:"95%",height:"60px"}},[(0,r._)("div",{class:"row px-3",id:"dupli-row-"+e.tag_uid},[(0,r._)("div",go,[(0,r._)("span",ho,[(0,r._)("span",bo,(0,m.zw)(e.tag_uid??"Not available"),1)])]),(0,r._)("div",fo,[(0,r._)("span",vo,(0,m.zw)(e.comment??"Not available"),1)])],8,uo)])))),128))])])}const _o="http://localhost:8080";var wo={components:{Form:T.l0,Field:T.gN,ErrorMessage:T.Bc,ModalComponent:dr},data(){const e=W.Ry().shape({comment:W.Z_().required("Le commentaire doit être renseigné").min(2,"Le commentaire doit avoir au moins 2 caractères")});return{tagList:[],components:{Form:T.l0,Field:T.gN,ErrorMessage:T.Bc},options:{responsive:!0},schema:e,tagData:{comment:""},currentPage:1,pageLimit:10}},computed:{nbPageMax(){return Math.ceil(this.tagList.length/this.pageLimit)},totalTags(){return this.filteredTag.length},filteredTag(){return this.search?this.tagList.filter((e=>e.comment?.toString().toLowerCase().includes(this.search.toString().toLowerCase())||e.tag_uid?.toString().toLowerCase().includes(this.search.toString().toLowerCase()))).slice((this.currentPage-1)*this.pageLimit,this.currentPage*this.pageLimit):this.tagList.slice((this.currentPage-1)*this.pageLimit,this.currentPage*this.pageLimit)}},async mounted(){this.fetchTag()},methods:{createTag(){const e={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(localStorage.getItem("user")).token},body:JSON.stringify({comment:this.tagData.comment})};this.tagData.comment,fetch(_o+"/api/tags/create",e).then((async e=>{const t=await e.json();if(!e.ok){const a=t&&t.message||e.status;return Promise.reject(a)}this.fetchTag()})).catch((e=>{this.errorMessage=e,console.error("There was an error!",e)}))},navigatePage(e){"forward"===e&&this.currentPage<this.nbPageMax?this.currentPage=this.nbPageMax:"backward"===e&&this.currentPage>1?this.currentPage=1:"next"===e&&this.currentPage<this.nbPageMax?this.currentPage++:"prev"===e&&this.currentPage>1&&this.currentPage--},async fetchTag(){await fetch(_o+"/api/tags/",{method:"Get",headers:{"Content-type":"application/json",Authorization:"Bearer "+JSON.parse(localStorage.getItem("user")).token}}).then((e=>e.json())).then((e=>{this.tagList=e}))}}};const ko=(0,l.Z)(wo,[["render",yo],["__scopeId","data-v-0f091f6e"]]);var xo=ko;const Co=e=>((0,r.dD)("data-v-b364fec2"),e=e(),(0,r.Cn)(),e),Do={class:"dashboard"},Po={class:"content"},So={class:"mt-4",style:{"background-color":"#f8fafb",height:"80px !important",width:"95%","margin-left":"2rem !important","border-radius":"1rem"}},Lo=Co((()=>(0,r._)("label",{style:{margin:"1.5rem 0 0 2rem","font-size":"21px","font-weight":"500"}},"Tunnels de conversion",-1))),jo=["onClick"],To=["onClick"],Wo={class:"form-group"},Mo=Co((()=>(0,r._)("label",{for:"comment"},"Commentaire:",-1))),Io={class:"form-group d-flex",style:{overflow:"scroll",height:"400px"}},No={class:"col-6"},Vo=Co((()=>(0,r._)("label",{for:"tags"},"Tags:",-1))),Fo={class:"col-6"},Uo=Co((()=>(0,r._)("label",{for:"newTags"},"Tag(s) choisi(s):",-1))),zo=Co((()=>(0,r._)("button",{type:"submit"},"ajouter une conversion de tunnels",-1))),Bo=["onClick"],Ao={class:"mt-4 col-12",style:{"background-color":"#f8fafb",height:"50px !important",width:"95%","margin-left":"2rem !important","border-radius":"1rem"}},Eo={class:"d-flex"},Oo={class:"pagination pr-4 py-auto my-auto align-items-center d-flex justify-content-between"},qo={class:"d-flex"},Zo={style:{width:"100px","padding-top":"14px"}},Ro={class:"pl-4 d-flex",style:{width:"250px"}},Ho=["disabled"],Ko=["disabled"],$o={style:{"padding-top":"14px"}},Jo=["disabled"],Yo=["disabled"],Go={style:{width:"250px"}},Xo={style:{"padding-top":"10px"}},Qo={class:"chips chips_purple py-2"},el={class:"d-flex mt-4 justify-content-between py-3 px-4",style:{"margin-left":"32px !important","padding-left":"38px !important","background-color":"#f8fafb","border-radius":"1rem",width:"95%",height:"60px"}},tl={class:"row col-12"},al={style:{width:"50%"},class:"d-flex justify-content-center border-right"},nl=Co((()=>(0,r._)("b",{class:"mr-2"},"Commentaire",-1))),rl=[nl],sl={style:{width:"50%"},class:"d-flex justify-content-center"},il=Co((()=>(0,r._)("b",{class:"mr-2"},"Tags",-1))),ol=[il],ll=["id"],cl={style:{width:"50%"},class:"d-flex justify-content-center border-right"},dl={class:"cursor-pointer"},pl={style:{"max-width":"50%",overflow:"scroll"},class:"d-flex justify-content-center"},ml={class:"badge rounded-pill badge-info"};function ul(e,t,a,s,i,o){const l=(0,r.up)("Sidebar"),c=(0,r.up)("Field"),d=(0,r.up)("ErrorMessage"),p=(0,r.up)("draggable"),u=(0,r.up)("rawDisplayer"),g=(0,r.up)("Form"),h=(0,r.up)("ModalComponent"),b=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)("div",Do,[(0,r.Wm)(l),(0,r._)("div",Po,[(0,r._)("div",So,[Lo,(0,r.Wm)(h,null,{activator:(0,r.w5)((({openModal:e})=>[(0,r._)("button",{class:"btn btn-info btn-newTag",onClick:e},"Ajouter un tunnel de conversion",8,jo)])),actions:(0,r.w5)((({closeModal:e})=>[(0,r._)("button",{class:"btn btn-danger",title:"Fermer",onClick:e},"Fermer",8,To)])),"close-icon":(0,r.w5)((({closeModal:e})=>[(0,r._)("button",{class:"btn btn-default",title:"Fermer",onClick:e},"x",8,Bo)])),default:(0,r.w5)((()=>[(0,r.Wm)(g,{onSubmit:o.createConvTunnel,"validation-schema":i.schema,style:{padding:"1.5em"}},{default:(0,r.w5)((()=>[(0,r._)("div",Wo,[Mo,(0,r.Wm)(c,{name:"comment",modelValue:i.convTunnelData.comment,"onUpdate:modelValue":t[0]||(t[0]=e=>i.convTunnelData.comment=e),type:"text",class:"form-control"},null,8,["modelValue"]),(0,r.Wm)(d,{name:"comment",class:"error-feedback"})]),(0,r._)("div",Io,[(0,r._)("div",No,[Vo,(0,r.Wm)(p,{list:i.tagList,disabled:!i.enabled,class:"list-group","ghost-class":"ghost",move:e.checkMove,onStart:t[1]||(t[1]=e=>i.dragging=!0),onEnd:t[2]||(t[2]=e=>i.dragging=!1),onChange:o.log,group:"tags",style:{overflow:"scroll",height:"400px"}},{item:(0,r.w5)((({element:e})=>[((0,r.wg)(),(0,r.iD)("div",{class:(0,m.C_)(["list-group-item",{"not-draggable":!i.enabled}]),key:e.tag_uid},(0,m.zw)(e.tag_uid)+" "+(0,m.zw)(e.comment),3))])),_:1},8,["list","disabled","move","onChange"])]),(0,r._)("div",Fo,[Uo,(0,r.Wm)(p,{list:i.newTagList,disabled:!i.enabled2,class:"list-group","ghost-class":"ghost",move:e.checkMove,onStart:t[3]||(t[3]=e=>i.dragging=!0),onEnd:t[4]||(t[4]=e=>i.dragging=!1),onChange:o.log,group:"tags"},{item:(0,r.w5)((({element:e})=>[((0,r.wg)(),(0,r.iD)("div",{class:(0,m.C_)(["list-group-item",{"not-draggable":!i.enabled2}]),key:e.tag_uid},(0,m.zw)(e.tag_uid)+" "+(0,m.zw)(e.comment),3))])),_:1},8,["list","disabled","move","onChange"])]),(0,r.Wm)(u,{class:"col-6",value:i.tagList,title:"List 1"},null,8,["value"]),(0,r.Wm)(u,{class:"col-6",value:i.newTagList,title:"List 2"},null,8,["value"])]),zo])),_:1},8,["onSubmit","validation-schema"])])),_:1})]),(0,r._)("div",Ao,[(0,r._)("div",Eo,[(0,r._)("div",Oo,[(0,r._)("div",qo,[(0,r._)("span",Zo,[(0,r.Uk)("Page "),(0,r._)("b",null,(0,m.zw)(i.currentPage),1),(0,r.Uk)(" of "+(0,m.zw)(o.nbPageMax),1)]),(0,r._)("div",Ro,[(0,r._)("button",{class:"btn btn-primary",onClick:t[5]||(t[5]=e=>o.navigatePage("backward")),disabled:1===i.currentPage},[(0,r.Wm)(b,{icon:"step-backward"})],8,Ho),(0,r._)("button",{class:"btn ml-1 mr-2 btn-primary",onClick:t[6]||(t[6]=e=>o.navigatePage("prev")),disabled:1===i.currentPage},[(0,r.Wm)(b,{icon:"chevron-left"})],8,Ko),(0,r._)("b",$o,(0,m.zw)(i.currentPage),1),(0,r._)("button",{class:"btn ml-2 mr-1 btn-primary",onClick:t[7]||(t[7]=e=>o.navigatePage("next")),disabled:i.currentPage===o.nbPageMax},[(0,r.Wm)(b,{icon:"chevron-right"})],8,Jo),(0,r._)("button",{class:"btn ml-1 btn-primary",onClick:t[8]||(t[8]=e=>o.navigatePage("forward")),disabled:i.currentPage===o.nbPageMax},[(0,r.Wm)(b,{icon:"step-forward"})],8,Yo)]),(0,r._)("div",Go,[(0,r._)("p",Xo,[(0,r.Uk)(" Total tunnels de conversion: "),(0,r._)("span",Qo,(0,m.zw)(o.totalConvTunnels),1)])])]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",placeholder:"Recherche","aria-label":"Search","aria-describedby":"basic-addon1","onUpdate:modelValue":t[9]||(t[9]=t=>e.search=t),style:{"border-radius":"1rem",width:"300px !important"}},null,512),[[n.nr,e.search]])])])])]),(0,r._)("div",el,[(0,r._)("div",tl,[(0,r._)("div",al,[(0,r._)("span",{class:"cursor-pointer",onClick:t[10]||(t[10]=t=>e.orderListBy("comment","String"))},rl)]),(0,r._)("div",sl,[(0,r._)("span",{class:"cursor-pointer",onClick:t[11]||(t[11]=t=>e.orderListBy("tags","String"))},ol)])])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.filteredConvTunnel,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t,class:"d-flex mt-4 justify-content-between py-3 px-4",style:{margin:"0.5rem 0 0 2rem !important","background-color":"#f8fafb","border-radius":"1rem",width:"95%",height:"80px"}},[(0,r._)("div",{class:"row px-3 col-12",id:"dupli-row-"+e.id},[(0,r._)("div",cl,[(0,r._)("span",dl,(0,m.zw)(e.comment??"Not available"),1)]),(0,r._)("div",pl,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.tags,((e,t)=>((0,r.wg)(),(0,r.iD)("span",{class:"cursor-pointer",key:t},[(0,r._)("span",ml,"tag "+(0,m.zw)(e.tag_uid??"Not available"),1)])))),128))])],8,ll)])))),128))])])}var gl=a(6983),hl=a.n(gl);const bl="http://localhost:8080";var fl={components:{Form:T.l0,Field:T.gN,ErrorMessage:T.Bc,Draggable:hl(),ModalComponent:dr},data(){const e=W.Ry().shape({comment:W.Z_().required("Le commentaire doit être renseigné").min(2,"Le commentaire doit avoir au moins 2 caractères")});return{enabled:!0,enabled2:!0,dragging:!1,convTunnelList:[],components:{Form:T.l0,Field:T.gN,ErrorMessage:T.Bc,Draggable:hl()},tagList:[],newTagList:[],options:{responsive:!0},schema:e,convTunnelData:{comment:"",tags:[]},currentPage:1,pageLimit:10}},computed:{nbPageMax(){return Math.ceil(this.convTunnelList.length/this.pageLimit)},totalConvTunnels(){return this.filteredConvTunnel.length},filteredConvTunnel(){return this.search?this.convTunnelList.filter((e=>e.comment?.toString().toLowerCase().includes(this.search.toString().toLowerCase()))).slice((this.currentPage-1)*this.pageLimit,this.currentPage*this.pageLimit):this.convTunnelList.slice((this.currentPage-1)*this.pageLimit,this.currentPage*this.pageLimit)},draggingInfo(){return this.dragging?"under drag":""}},async mounted(){this.fetchConvTunnel(),this.fetchTag()},methods:{log:function(e){window.console.log(e)},createConvTunnel(){const e=new Array;this.newTagList.forEach((t=>{e.push(t.tag_uid)}));const t={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(localStorage.getItem("user")).token},body:JSON.stringify({comment:this.convTunnelData.comment,tags:e})};this.convTunnelData.comment,this.convTunnelData.tags,fetch(bl+"/convTunnel/create",t).then((async e=>{const t=await e.json();if(!e.ok){const a=t&&t.message||e.status;return Promise.reject(a)}this.fetchConvTunnel(),this.fetchTag(),this.newTagList=[]})).catch((e=>{this.errorMessage=e,console.error("There was an error!",e)}))},navigatePage(e){"forward"===e&&this.currentPage<this.nbPageMax?this.currentPage=this.nbPageMax:"backward"===e&&this.currentPage>1?this.currentPage=1:"next"===e&&this.currentPage<this.nbPageMax?this.currentPage++:"prev"===e&&this.currentPage>1&&this.currentPage--},async fetchConvTunnel(){await fetch(bl+"/api/convTunnel/",{method:"Get",headers:{"Content-type":"application/json",Authorization:"Bearer "+JSON.parse(localStorage.getItem("user")).token}}).then((e=>e.json())).then((e=>{this.convTunnelList=e}))},async fetchTag(){await fetch(bl+"/api/tags/",{method:"Get",headers:{"Content-type":"application/json",Authorization:"Bearer "+JSON.parse(localStorage.getItem("user")).token}}).then((e=>e.json())).then((e=>{this.tagList=e}))}}};const vl=(0,l.Z)(fl,[["render",ul],["__scopeId","data-v-b364fec2"]]);var yl=vl;const _l=[{path:"/login",component:N},{path:"/dashboard",component:lt},{path:"/signup",component:Wt},{path:"/sdk",component:Ga},{path:"/conversiontunnel",component:yl},{path:"/admin",component:Va},{path:"/graphe",component:gr},{path:"/heatmap",component:os},{path:"/kpi",component:Mi},{path:"/tags",component:xo}],wl=(0,p.p7)({history:(0,p.PO)(),routes:_l});wl.beforeEach(((e,t,a)=>{const n=["/login","/signup"],r=!n.includes(e.path),s=localStorage.getItem("user"),i=s?JSON.parse(s).user.role:null;r&&!s?a("/login"):"/admin"===e.path&&"admin"!==i?a(t.path):a()}));var kl=wl,xl=a(65);const Cl="http://localhost:8080";class Dl{login(e){return tt.Z.post(Cl+"/api/users/login",{email:e.email,password:e.password}).then((e=>(e.data.token&&localStorage.setItem("user",JSON.stringify(e.data)),e.data)))}logout(){localStorage.removeItem("user")}register(e){const t=new FormData;return t.append("userName",e.userName),t.append("email",e.email),t.append("password",e.password),t.append("contactInfo",e.contactInfo),t.append("companyName",e.companyName),t.append("websiteUrl",e.websiteUrl),t.append("kbis",e.kbis),tt.Z.post(`${Cl}/api/users/signup`,t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>e.data))}}var Pl=new Dl;const Sl=JSON.parse(localStorage.getItem("user")),Ll=Sl?{status:{loggedIn:!0},user:Sl}:{status:{loggedIn:!1},user:null},jl={namespaced:!0,state:Ll,actions:{login({commit:e},t){return Pl.login(t).then((t=>(e("loginSuccess",t),Promise.resolve(t))),(t=>(e("loginFailure"),Promise.reject(t))))},logout({commit:e}){Pl.logout(),e("logout")},register({commit:e},t){return Pl.register(t).then((t=>(e("registerSuccess"),Promise.resolve(t.data))),(t=>(e("registerFailure"),Promise.reject(t))))}},mutations:{loginSuccess(e,t){e.status.loggedIn=!0,e.user=t},loginFailure(e){e.status.loggedIn=!1,e.user=null},logout(e){e.status.loggedIn=!1,e.user=null},registerSuccess(e){e.status.loggedIn=!1},registerFailure(e){e.status.loggedIn=!1}}},Tl=(0,xl.MT)({modules:{auth:jl}});var Wl=Tl,Ml=a(3494),Il=a(7749),Nl=a(8539);Ml.vI.add(Nl.J9Y,Nl.ILF,Nl.FKd,Nl.$Wj,Nl.jLD,Nl.uYr,Nl.Ybx,Nl.A35,Nl._tD,Nl.u9C,Nl.foy,Nl.CmM,Nl.kZ_,Nl.ptq,Nl.mTx),(0,n.ri)(d).use(kl).use(Wl).component("font-awesome-icon",Il.GN).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,s){if(!n){var i=1/0;for(d=0;d<e.length;d++){n=e[d][0],r=e[d][1],s=e[d][2];for(var o=!0,l=0;l<n.length;l++)(!1&s||i>=s)&&Object.keys(a.O).every((function(e){return a.O[e](n[l])}))?n.splice(l--,1):(o=!1,s<i&&(i=s));if(o){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,r,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,s,i=n[0],o=n[1],l=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)var d=l(a)}for(t&&t(n);c<i.length;c++)s=i[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(d)},n=self["webpackChunkfront"]=self["webpackChunkfront"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(9025)}));n=a.O(n)})();
//# sourceMappingURL=app.759fe080.js.map